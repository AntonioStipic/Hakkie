import { of } from 'rxjs';
import { map } from 'rxjs/operators';
import { safeEval } from './safe-eval';
export function getHsd(key, data) {
    if (data[key]) {
        let item;
        switch (data[key].type) {
            case 'dynamic':
                item = safeEval(data[key].value);
                if (item) {
                    return data.form.valueChanges
                        .pipe(map(value => item(data.control.value, value)));
                }
                break;
            case 'static':
                item = safeEval(data[key].value);
                if (item) {
                    return of(item(data.control.value, data.form.getRawValue()));
                }
                break;
            case 'html':
            default:
                return of(data[key].value);
        }
    }
    return of('');
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZ2V0LWhzZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uL3Byb2plY3RzL2Zvcm0tYnVpbGRlci9zcmMvbGliL3V0aWxzL2dldC1oc2QudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFhLEVBQUUsRUFBQyxNQUFNLE1BQU0sQ0FBQztBQUNwQyxPQUFPLEVBQUMsR0FBRyxFQUFDLE1BQU0sZ0JBQWdCLENBQUM7QUFFbkMsT0FBTyxFQUFDLFFBQVEsRUFBQyxNQUFNLGFBQWEsQ0FBQztBQU9yQyxNQUFNLFVBQVUsTUFBTSxDQUNwQixHQUFXLEVBQ1gsSUFBZTtJQUVmLElBQUksSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFO1FBRWIsSUFBSSxJQUFTLENBQUM7UUFFZCxRQUFRLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxJQUFJLEVBQUU7WUFDdEIsS0FBSyxTQUFTO2dCQUNaLElBQUksR0FBRyxRQUFRLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDO2dCQUVqQyxJQUFJLElBQUksRUFBRTtvQkFDUixPQUFPLElBQUksQ0FBQyxJQUFJLENBQUMsWUFBWTt5QkFDMUIsSUFBSSxDQUNILEdBQUcsQ0FBQyxLQUFLLENBQUMsRUFBRSxDQUNWLElBQUksQ0FDRixJQUFJLENBQUMsT0FBTyxDQUFDLEtBQUssRUFDbEIsS0FBSyxDQUNOLENBQ0YsQ0FDRixDQUFDO2lCQUNMO2dCQUVELE1BQU07WUFDUixLQUFLLFFBQVE7Z0JBQ1gsSUFBSSxHQUFHLFFBQVEsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUM7Z0JBRWpDLElBQUksSUFBSSxFQUFFO29CQUNSLE9BQU8sRUFBRSxDQUFDLElBQUksQ0FDWixJQUFJLENBQUMsT0FBTyxDQUFDLEtBQUssRUFDbEIsSUFBSSxDQUFDLElBQUksQ0FBQyxXQUFXLEVBQUUsQ0FDeEIsQ0FBQyxDQUFDO2lCQUNKO2dCQUNELE1BQU07WUFDUixLQUFLLE1BQU0sQ0FBQztZQUNaO2dCQUNFLE9BQU8sRUFBRSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQztTQUM5QjtLQUNGO0lBRUQsT0FBTyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUM7QUFDaEIsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7T2JzZXJ2YWJsZSwgb2Z9IGZyb20gJ3J4anMnO1xuaW1wb3J0IHttYXB9IGZyb20gJ3J4anMvb3BlcmF0b3JzJztcbmltcG9ydCB7RmllbGREYXRhfSBmcm9tICcuLi9pbnRlcmZhY2VzL2ZpZWxkLWRhdGEuaW50ZXJmYWNlJztcbmltcG9ydCB7c2FmZUV2YWx9IGZyb20gJy4vc2FmZS1ldmFsJztcblxuZXhwb3J0IGludGVyZmFjZSBIU0Qge1xuICB0eXBlPzogJ2h0bWwnIHwgJ3N0YXRpYycgfCAnZHluYW1pYyc7XG4gIHZhbHVlOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRIc2QoXG4gIGtleTogc3RyaW5nLFxuICBkYXRhOiBGaWVsZERhdGFcbik6IE9ic2VydmFibGU8c3RyaW5nPiB7XG4gIGlmIChkYXRhW2tleV0pIHtcblxuICAgIGxldCBpdGVtOiBhbnk7XG5cbiAgICBzd2l0Y2ggKGRhdGFba2V5XS50eXBlKSB7XG4gICAgICBjYXNlICdkeW5hbWljJzpcbiAgICAgICAgaXRlbSA9IHNhZmVFdmFsKGRhdGFba2V5XS52YWx1ZSk7XG5cbiAgICAgICAgaWYgKGl0ZW0pIHtcbiAgICAgICAgICByZXR1cm4gZGF0YS5mb3JtLnZhbHVlQ2hhbmdlc1xuICAgICAgICAgICAgLnBpcGUoXG4gICAgICAgICAgICAgIG1hcCh2YWx1ZSA9PlxuICAgICAgICAgICAgICAgIGl0ZW0oXG4gICAgICAgICAgICAgICAgICBkYXRhLmNvbnRyb2wudmFsdWUsXG4gICAgICAgICAgICAgICAgICB2YWx1ZVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnc3RhdGljJzpcbiAgICAgICAgaXRlbSA9IHNhZmVFdmFsKGRhdGFba2V5XS52YWx1ZSk7XG5cbiAgICAgICAgaWYgKGl0ZW0pIHtcbiAgICAgICAgICByZXR1cm4gb2YoaXRlbShcbiAgICAgICAgICAgIGRhdGEuY29udHJvbC52YWx1ZSxcbiAgICAgICAgICAgIGRhdGEuZm9ybS5nZXRSYXdWYWx1ZSgpXG4gICAgICAgICAgKSk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdodG1sJzpcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiBvZihkYXRhW2tleV0udmFsdWUpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBvZignJyk7XG59XG4iXX0=