{"version":3,"file":"jaspero-form-builder.js","sources":["../../../../projects/form-builder/src/lib/enums/segment-type.enum.ts","../../../../projects/form-builder/src/lib/enums/state.enum.ts","../../../../projects/form-builder/src/lib/form-builder.service.ts","../../../../projects/form-builder/src/lib/utils/custom-fields.ts","../../../../projects/form-builder/src/lib/utils/create-segment-injector.ts","../../../../projects/form-builder/src/lib/segment/segment.component.ts","../../../../projects/form-builder/src/lib/segments/accordion/accordion.component.ts","../../../../projects/form-builder/src/lib/segments/card/card.component.ts","../../../../projects/form-builder/src/lib/segments/empty/empty.component.ts","../../../../projects/form-builder/src/lib/segments/stepper/stepper.component.ts","../../../../projects/form-builder/src/lib/utils/safe-eval.ts","../../../../projects/form-builder/src/lib/segments/tabs/tabs.component.ts","../../../../projects/form-builder/src/lib/consts/segment-type-component-map.const.ts","../../../../projects/form-builder/src/lib/interfaces/condition.interface.ts","../../../../projects/form-builder/src/lib/utils/compile-segment.ts","../../../../projects/form-builder/src/lib/utils/filter-and-compile-segments.ts","../../../../projects/form-builder/src/lib/enums/component-type.enum.ts","../../../../projects/form-builder/src/lib/services/db.service.ts","../../../../projects/form-builder/src/lib/utils/create-component-injector.ts","../../../../projects/form-builder/src/lib/field/field.component.ts","../../../../projects/form-builder/src/lib/utils/get-hsd.ts","../../../../projects/form-builder/src/lib/fields/autocomplete/autocomplete.component.ts","../../../../projects/form-builder/src/lib/fields/checkbox/checkbox.component.ts","../../../../projects/form-builder/src/lib/fields/chips/chips.component.ts","../../../../projects/form-builder/src/lib/utils/clone-abstract-control.ts","../../../../projects/form-builder/src/lib/fields/date-field/date-field.component.ts","../../../../projects/form-builder/src/lib/fields/draggable-list/draggable-list.component.ts","../../../../projects/form-builder/src/lib/services/storage.service.ts","../../../../projects/form-builder/src/lib/utils/format-file-name.ts","../../../../projects/form-builder/src/lib/utils/parse-size.ts","../../../../projects/form-builder/src/lib/fields/file/file.component.ts","../../../../projects/form-builder/src/lib/utils/format-generated-images.ts","../../../../projects/form-builder/src/lib/utils/storage-url.ts","../../../../projects/form-builder/src/lib/utils/switch-item-locations.ts","../../../../projects/form-builder/src/lib/fields/gallery/read-file.ts","../../../../projects/form-builder/src/lib/fields/gallery/gallery.component.ts","../../../../projects/form-builder/src/lib/fields/image/image.component.ts","../../../../projects/form-builder/src/lib/fields/input/input.component.ts","../../../../projects/form-builder/src/lib/fields/radio/radio.component.ts","../../../../projects/form-builder/src/lib/fields/range/range.component.ts","../../../../projects/form-builder/src/lib/utils/additional-context.ts","../../../../projects/form-builder/src/lib/utils/parse-template.ts","../../../../projects/form-builder/src/lib/utils/role.ts","../../../../projects/form-builder/src/lib/fields/select/select.component.ts","../../../../projects/form-builder/src/lib/fields/slider/slider.component.ts","../../../../projects/form-builder/src/lib/fields/textarea/textarea.component.ts","../../../../projects/form-builder/src/lib/fields/toggle/toggle.component.ts","../../../../projects/form-builder/src/lib/fields/wysiwyg/wysiwyg.component.ts","../../../../projects/form-builder/src/lib/consts/component-type-component-map.const.ts","../../../../projects/form-builder/src/lib/enums/schema-type.enum.ts","../../../../projects/form-builder/src/lib/validators/schema-validators.class.ts","../../../../projects/form-builder/src/lib/utils/schema-to-component.ts","../../../../projects/form-builder/src/lib/utils/parser.ts","../../../../projects/form-builder/src/lib/form-builder.component.ts","../../../../projects/form-builder/src/lib/directives/dropzone/dropzone.directive.ts","../../../../projects/form-builder/src/lib/pipes/show-field/show-field.pipe.ts","../../../../projects/form-builder/src/lib/form-builder.module.ts","../../../../projects/form-builder/src/public-api.ts","../../../../projects/form-builder/src/jaspero-form-builder.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","sourcesContent":["export enum SegmentType {\n  Empty = 'empty',\n  Card = 'card',\n  Accordion = 'accordion',\n  Tabs = 'tabs',\n  Stepper = 'stepper'\n}\n","export enum State {\n  Create = 'create',\n  Edit = 'edit'\n}\n","import {Injectable} from '@angular/core';\nimport {MatSnackBar} from '@angular/material/snack-bar';\nimport {TranslocoService} from '@ngneat/transloco';\nimport {Observable, throwError} from 'rxjs';\nimport {catchError, tap} from 'rxjs/operators';\n\n@Injectable()\nexport class FormBuilderService {\n  constructor(\n    private transloco: TranslocoService,\n    private snackBar: MatSnackBar\n  ) {\n  }\n\n  /**\n   * Array of components that need to\n   * run save() methods on single instance\n   */\n  saveComponents: any[] = [];\n\n  notify(\n    options: {\n      success?: string | null;\n      error?: string;\n    } = {}\n  ): <T>(source$: Observable<T>) => Observable<T> {\n    const finalOptions = {\n      success: 'GENERAL.OPERATION_COMPLETED',\n      error: 'GENERAL.OPERATION_FAILED',\n      ...options\n    };\n\n    return <T>(source$: Observable<T>) => {\n      return source$.pipe(\n        tap(() => {\n          if (finalOptions.success) {\n            this.snackBar.open(\n              this.transloco.translate(finalOptions.success),\n              this.transloco.translate('GENERAL.DISMISS'),\n              {\n                duration: 5000\n              }\n            );\n          }\n        }),\n        catchError(err => {\n          if (finalOptions.error) {\n            this.snackBar.open(\n              this.transloco.translate(finalOptions.error),\n              this.transloco.translate('GENERAL.DISMISS'),\n              {\n                panelClass: 'snack-bar-error',\n                duration: 5000\n              }\n            );\n          }\n\n          console.error(err);\n          return throwError(err);\n        })\n      );\n    };\n  }\n}\n","import {Component, InjectionToken} from '@angular/core';\n\nexport interface CustomFields {\n  [key: string]: Component;\n}\n\nexport const CUSTOM_FIELDS = new InjectionToken<{}>('CUSTOM_FIELDS');\n","import {PortalInjector} from '@angular/cdk/portal';\nimport {InjectionToken} from '@angular/core';\n\nexport const SEGMENT_DATA = new InjectionToken<{}>('SEGMENT_DATA');\n\nexport function createSegmentInjector(injector, dataToPass): PortalInjector {\n  const injectorTokens = new WeakMap();\n  injectorTokens.set(SEGMENT_DATA, dataToPass);\n  return new PortalInjector(injector, injectorTokens);\n}\n","import {moveItemInArray} from '@angular/cdk/drag-drop';\nimport {Component, HostBinding, Inject, Injector, OnInit} from '@angular/core';\nimport {FormControl} from '@angular/forms';\nimport {get} from 'json-pointer';\nimport {CompiledField} from '../interfaces/compiled-field.interface';\nimport {CompiledSegment} from '../interfaces/compiled-segment.interface';\nimport {Definitions} from '../interfaces/definitions.interface';\nimport {SEGMENT_DATA} from '../utils/create-segment-injector';\nimport {filterAndCompileSegments} from '../utils/filter-and-compile-segments';\nimport {Parser, Pointers} from '../utils/parser';\n\nexport interface SegmentData {\n  segment: CompiledSegment;\n  parser: Parser;\n  definitions: Definitions;\n  parent?: string;\n}\n\n@Component({\n  selector: 'fb-segment',\n  template: ''\n})\nexport class SegmentComponent<T = any> implements OnInit {\n  constructor(\n    @Inject(SEGMENT_DATA) public sData: SegmentData,\n    public injector: Injector\n  ) {}\n\n  segment: CompiledSegment<T>;\n  pointers: Pointers;\n  nestedSegments: CompiledSegment<T>[];\n  nestedArraySegments: Array<CompiledSegment[]> = [];\n  arrayFields: Array<CompiledField[]> = [];\n\n  @HostBinding('class')\n  classes: string;\n\n  @HostBinding('id')\n  id: string;\n\n  ngOnInit() {\n    this.segment = this.sData.segment;\n    this.classes = this.sData.segment.classes.join(' ');\n    this.pointers = this.sData.parser.pointers;\n    this.id = this.sData.segment.id || '';\n\n    /**\n     * Each segment compiles all nested segments\n     */\n    this.nestedSegments = filterAndCompileSegments(\n      this.sData.segment.nestedSegments || [],\n      this.sData.parser,\n      this.sData.definitions,\n      this.injector,\n      this.segment.entryValue\n    );\n\n    const array = this.segment.array as string;\n\n    /**\n     * Add array items if necessary\n     */\n    if (array && this.segment.entryValue) {\n      let values;\n\n      try {\n        values = get(this.segment.entryValue, array);\n      } catch (e) {}\n\n      if (values) {\n        values.forEach(() => this.addArrayItem(false));\n\n        (this.pointers[array].control as FormControl).patchValue(\n          values\n        );\n\n        for (let i = 0; i < values.length; i++) {\n          // @ts-ignore\n          this.sData.parser.loadHooks(this.pointers[array].arrayPointers[i]);\n        }\n      }\n    }\n  }\n\n  addArrayItem(loadHook = true) {\n    const array = this.segment.array as string;\n    const pointers: any = this.sData.parser.addArrayItem(\n      (this.sData.parent || '') + array,\n      loadHook,\n      this.sData.parent ? {\n        pointer: this.sData.parent,\n        index: 0\n      } : undefined\n    );\n\n    let fields: CompiledField[];\n\n    if (this.segment.fields && this.segment.fields.length) {\n      fields = (this.segment.fields as string[]).map(key => {\n\n        key = (this.sData.parent || '') + key;\n\n        return this.sData.parser.field(\n          key,\n          pointers[key],\n          this.sData.definitions,\n          true,\n          array\n        );\n      });\n    } else {\n      fields = [this.sData.parser.field(\n        array,\n        {\n          ...this.pointers[array],\n          control: pointers\n        },\n        this.sData.definitions\n      )];\n    }\n\n    this.arrayFields.unshift(\n      fields\n    );\n\n    this.nestedArraySegments.unshift(\n      this.nestedSegments = filterAndCompileSegments(\n        this.sData.segment.nestedSegments || [],\n        this.sData.parser,\n        this.sData.definitions,\n        this.injector,\n        this.segment.entryValue,\n        this.segment.array\n      )\n    );\n  }\n\n  moveArray(up: boolean, fromIndex: number) {\n    let toIndex: number;\n\n    if (up) {\n      toIndex = fromIndex === 0 ? this.arrayFields.length - 1 : fromIndex - 1;\n    } else {\n      toIndex = fromIndex === (this.arrayFields.length - 1) ? 0 : fromIndex + 1;\n    }\n\n    moveItemInArray(\n      this.arrayFields,\n      fromIndex,\n      toIndex\n    );\n\n    moveItemInArray(\n      this.nestedArraySegments,\n      fromIndex,\n      toIndex\n    );\n\n    this.sData.parser.moveArrayItem(\n      (this.sData.parent || '') + this.segment.array as string,\n      fromIndex,\n      toIndex,\n      this.sData.parent ? {\n        pointer: this.sData.parent,\n        index: 0\n      } : undefined\n    );\n  }\n\n  removeArrayItem(index: number) {\n    this.sData.parser.removeArrayItem(\n      (this.sData.parent || '') + this.segment.array as string,\n      index,\n      this.sData.parent ? {\n        pointer: this.sData.parent,\n        index: 0\n      } : undefined\n    );\n    this.nestedArraySegments.splice(index, 1);\n    this.arrayFields.splice(index, 1);\n  }\n}\n","import {ChangeDetectionStrategy, Component, OnInit} from '@angular/core';\nimport {CompiledField} from '../../interfaces/compiled-field.interface';\nimport {CompiledSegment} from '../../interfaces/compiled-segment.interface';\nimport {Segment} from '../../interfaces/segment.interface';\nimport {SegmentComponent} from '../../segment/segment.component';\nimport {filterAndCompileSegments} from '../../utils/filter-and-compile-segments';\n\ninterface SegmentAccord {\n  title?: string;\n  description?: string;\n  fields?: string[];\n  nestedSegments?: Segment[];\n  expanded?: boolean;\n}\n\ninterface CompiledSegmentAccord {\n  title?: string;\n  description?: string;\n  fields?: CompiledField[];\n  nestedSegments?: CompiledSegment[];\n  expanded?: boolean;\n}\n\n@Component({\n  selector: 'fb-accordion',\n  templateUrl: './accordion.component.html',\n  styleUrls: ['./accordion.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class AccordionComponent extends SegmentComponent implements OnInit {\n\n  accordions: CompiledSegmentAccord[];\n\n  ngOnInit() {\n    super.ngOnInit();\n\n    this.accordions = (this.sData.segment.configuration || []).map(\n      (accord: SegmentAccord) => ({\n        title: accord.title,\n        fields: (accord.fields || []).map(key =>\n          this.sData.parser.field(\n            key,\n            this.pointers[key],\n            this.sData.definitions\n          )\n        ),\n        nestedSegments: filterAndCompileSegments(\n          accord.nestedSegments || [],\n          this.sData.parser,\n          this.sData.definitions,\n          this.injector,\n          this.segment.entryValue\n        )\n      })\n    );\n  }\n}\n","import {ChangeDetectionStrategy, Component} from '@angular/core';\nimport {CompiledField} from '../../interfaces/compiled-field.interface';\nimport {SegmentComponent} from '../../segment/segment.component';\n\n@Component({\n  selector: 'fb-card',\n  templateUrl: './card.component.html',\n  styleUrls: ['./card.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class CardComponent extends SegmentComponent {\n  get fields() {\n    return this.segment.fields as CompiledField[];\n  }\n}\n","import {ChangeDetectionStrategy, Component} from '@angular/core';\nimport {CompiledField} from '../../interfaces/compiled-field.interface';\nimport {SegmentComponent} from '../../segment/segment.component';\n\n@Component({\n  selector: 'fb-empty',\n  templateUrl: './empty.component.html',\n  styleUrls: ['./empty.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class EmptyComponent extends SegmentComponent {\n  get fields() {\n    return this.segment.fields as CompiledField[];\n  }\n}\n","import {ChangeDetectionStrategy, Component} from '@angular/core';\nimport {SegmentComponent} from '../../segment/segment.component';\n\n@Component({\n  selector: 'fb-stepper',\n  templateUrl: './stepper.component.html',\n  styleUrls: ['./stepper.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class StepperComponent extends SegmentComponent {}\n","export function safeEval(method: string) {\n  let final: any;\n\n  try {\n    // tslint:disable-next-line:no-eval\n    final = eval(method);\n  } catch (e) {}\n\n  return final;\n}\n","import {ChangeDetectionStrategy, Component, OnInit} from '@angular/core';\nimport {MatTabChangeEvent} from '@angular/material/tabs';\nimport {CompiledField} from '../../interfaces/compiled-field.interface';\nimport {CompiledSegment} from '../../interfaces/compiled-segment.interface';\nimport {Segment} from '../../interfaces/segment.interface';\nimport {SegmentComponent, SegmentData} from '../../segment/segment.component';\nimport {filterAndCompileSegments} from '../../utils/filter-and-compile-segments';\nimport {safeEval} from '../../utils/safe-eval';\n\ntype SelectedTabChange = (event: MatTabChangeEvent, sData: SegmentData) => void;\n\ninterface TabsConfiguration {\n  selectedIndex?: number;\n  dynamicHeight?: boolean;\n  disableRipple?: boolean;\n  selectedTabChange?: string | SelectedTabChange;\n  alignment?: 'start' | 'center' | 'end';\n  tabs: SegmentTab[];\n}\n\ninterface SegmentTabShared {\n  title?: string;\n  disabled?: boolean;\n}\n\ninterface SegmentTab extends SegmentTabShared {\n  fields?: string[];\n  nestedSegments?: Segment[];\n}\n\ninterface CompiledSegmentTab extends SegmentTabShared {\n  fields?: CompiledField[];\n  nestedSegments?: CompiledSegment[];\n}\n\n@Component({\n  selector: 'fb-tabs',\n  templateUrl: './tabs.component.html',\n  styleUrls: ['./tabs.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class TabsComponent extends SegmentComponent<TabsConfiguration> implements OnInit {\n\n  tabs: CompiledSegmentTab[];\n  selectedTabChange?: SelectedTabChange;\n\n  get configuration() {\n    return this.segment.configuration as TabsConfiguration;\n  }\n\n  ngOnInit() {\n    super.ngOnInit();\n\n    if (this.configuration.selectedTabChange) {\n      this.selectedTabChange = safeEval(\n        this.configuration.selectedTabChange as string\n      );\n    }\n\n    this.tabs = this.configuration.tabs.map(\n      tab => ({\n        ...tab,\n        fields: (tab.fields || []).map(key =>\n          this.sData.parser.field(\n            key,\n            this.pointers[key],\n            this.sData.definitions\n          )\n        ),\n        nestedSegments: filterAndCompileSegments(\n          tab.nestedSegments || [],\n          this.sData.parser,\n          this.sData.definitions,\n          this.injector,\n          this.segment.entryValue\n        )\n      })\n    );\n  }\n\n  tabChange(event: MatTabChangeEvent) {\n    if (this.selectedTabChange) {\n      this.selectedTabChange(\n        event,\n        this.sData\n      );\n    }\n  }\n}\n","import {SegmentType} from '../enums/segment-type.enum';\nimport {AccordionComponent} from '../segments/accordion/accordion.component';\nimport {CardComponent} from '../segments/card/card.component';\nimport {EmptyComponent} from '../segments/empty/empty.component';\nimport {StepperComponent} from '../segments/stepper/stepper.component';\nimport {TabsComponent} from '../segments/tabs/tabs.component';\n\nexport const SEGMENT_TYPE_COMPONENT_MAP: {[key: string]: any} = {\n  [SegmentType.Empty]: EmptyComponent,\n  [SegmentType.Card]: CardComponent,\n  [SegmentType.Accordion]: AccordionComponent,\n  [SegmentType.Tabs]: TabsComponent,\n  [SegmentType.Stepper]: StepperComponent\n};\n","\n\nexport enum ConditionType {\n  Function = 'function',\n  Statement = 'statement'\n}\n\nexport enum ConditionAction {\n  Show = 'show',\n  Hide = 'hide'\n}\n\nexport enum ConditionEvaluate {\n  OnLoad = 'onLoad',\n  OnChange = 'onChange'\n}\n\nexport interface Condition {\n\n  /**\n   * Defaults to function\n   */\n  type?: ConditionType;\n\n  /**\n   * Stringified condition that could\n   * later also be an object representing\n   * a more complex statement\n   */\n  condition?: string;\n\n  /**\n   * Defaults to show\n   */\n  action?: ConditionAction;\n\n  /**\n   * Not always required; depends on\n   * condition type\n   */\n  data?: any;\n\n  /**\n   * Empty or undefined means evaluate always\n   */\n  evaluateStates?: number[];\n\n  /**\n   * Defaults to OnLoad\n   */\n  evaluateOn?: ConditionEvaluate;\n}\n\nexport interface CompiledCondition {\n  type: ConditionType;\n  action: ConditionAction;\n  condition: (data?: any) => any;\n  evaluateStates: number[];\n  evaluateOn: ConditionEvaluate;\n  data?: any;\n}\n","import {ComponentPortal} from '@angular/cdk/portal';\nimport {Injector} from '@angular/core';\nimport {SEGMENT_TYPE_COMPONENT_MAP} from '../consts/segment-type-component-map.const';\nimport {SegmentType} from '../enums/segment-type.enum';\nimport {CompiledField} from '../interfaces/compiled-field.interface';\nimport {CompiledSegment} from '../interfaces/compiled-segment.interface';\nimport {CompiledCondition, ConditionAction, ConditionEvaluate, ConditionType} from '../interfaces/condition.interface';\nimport {Definitions} from '../interfaces/definitions.interface';\nimport {Segment} from '../interfaces/segment.interface';\nimport {SegmentComponent} from '../segment/segment.component';\nimport {createSegmentInjector} from './create-segment-injector';\nimport {Parser} from './parser';\nimport {safeEval} from './safe-eval';\n\nexport function compileSegment(\n  segment: Segment,\n  parser: Parser,\n  definitions: Definitions,\n  injector: Injector,\n  entryValue: any,\n  parent = ''\n) {\n  const classes: string[] = [];\n\n  let fields: CompiledField[] | string[] = [];\n\n  if (segment.columnsDesktop) {\n    classes.push(`col-${segment.columnsDesktop}`);\n  }\n\n  if (segment.columnsTablet) {\n    classes.push(`col-m-${segment.columnsTablet}`);\n  }\n\n  if (segment.columnsMobile) {\n    classes.push(`col-s-${segment.columnsMobile}`);\n  }\n\n  /**\n   * If there aren't any column definitions\n   * default to full width\n   */\n  if (!classes.length) {\n    classes.push('col-12');\n  }\n\n  if (segment.classes) {\n    classes.push(...segment.classes);\n  }\n\n  if (segment.fields) {\n\n    /**\n     * If it's an array fields aren' parsed\n     */\n    if (segment.array) {\n      // @ts-ignore\n      fields = (segment.fields || []).map(fi => segment.array + fi);\n    } else {\n      fields = (segment.fields || [])\n        // @ts-ignore\n        .reduce((acc: CompiledField[], key: string) => {\n          const definition = parser.getFromDefinitions(key, definitions);\n\n          if (\n            !definition ||\n            !definition.roles ||\n            (\n              typeof definition.roles === 'string' ?\n                definition.roles === parser.role :\n                definition.roles.includes(parser.role)\n            )\n          ) {\n            acc.push(\n              parser.field(key, parser.pointers[key], definitions)\n            );\n          }\n\n          return acc;\n        }, []);\n    }\n  }\n\n  const compiledSegment = {\n    ...segment,\n    classes,\n    fields,\n    entryValue\n  } as CompiledSegment;\n\n  /**\n   * TODO:\n   * Statement support\n   */\n  if (segment.conditions) {\n\n    compiledSegment.conditions = [];\n    const valToPass = entryValue || {};\n\n    for (const cur of segment.conditions) {\n      let condition;\n\n      const type = cur.type || ConditionType.Function;\n      const action = cur.action || ConditionAction.Show;\n      const evaluateOn = cur.evaluateOn || ConditionEvaluate.OnLoad;\n      const evaluateStates = cur.evaluateStates || [0, 1, 2];\n\n      if (cur.condition) {\n        condition = safeEval(cur.condition as string);\n      }\n\n      if (condition) {\n\n        /**\n         * Evaluate on load conditions\n         */\n        if (evaluateOn === ConditionEvaluate.OnLoad) {\n\n          /**\n           * Check if items should be excluded right away\n           */\n          if (\n            (action === ConditionAction.Show && !condition(valToPass)) ||\n            (action === ConditionAction.Hide && condition(valToPass))\n          ) {\n            return null;\n          }\n        }\n\n        compiledSegment.conditions.push({\n          condition,\n          type,\n          action,\n          evaluateStates,\n          evaluateOn,\n          ...cur.data && {\n            data: cur.data\n          }\n        } as CompiledCondition);\n      }\n    }\n  }\n\n  return {\n    component: new ComponentPortal<SegmentComponent>(\n      SEGMENT_TYPE_COMPONENT_MAP[segment.type || SegmentType.Card],\n      null,\n      createSegmentInjector(injector, {\n        segment: compiledSegment,\n        parser,\n        definitions,\n        ...parent && {parent},\n      })\n    ),\n    ...compiledSegment\n  } as CompiledSegment;\n}\n","import {Injector} from '@angular/core';\nimport {Definitions} from '../interfaces/definitions.interface';\nimport {Segment} from '../interfaces/segment.interface';\nimport {compileSegment} from './compile-segment';\nimport {Parser} from './parser';\n\nexport function filterAndCompileSegments(\n  segments: Segment[],\n  parser: Parser,\n  definitions: Definitions,\n  injector: Injector,\n  value: any,\n  parent?: string\n) {\n  return segments.reduce((acc, cur) => {\n    if (!cur.authorization || cur.authorization.includes(parser.role)) {\n\n      const compiled = compileSegment(\n        cur,\n        parser,\n        definitions,\n        injector,\n        value,\n        parent\n      );\n\n      if (compiled) {\n        acc.push(\n          // @ts-ignore\n          compiled\n        );\n      }\n    }\n\n    return acc;\n  }, []);\n}\n","export enum ComponentType {\n  Input = 'input',\n  Select = 'select',\n  File = 'file',\n  Image = 'image',\n  Gallery = 'gallery',\n  Toggle = 'toggle',\n  Checkbox = 'checkbox',\n  Date = 'date',\n  Range = 'range',\n  Radio = 'radio',\n  Slider = 'slider',\n  Autocomplete = 'autocomplete',\n  Wysiwyg = 'wysiwyg',\n  Chips = 'chips',\n  Draggable = 'draggable',\n  Textarea = 'textarea'\n}\n","import {Observable, of} from 'rxjs';\nimport {WhereFilter} from '../interfaces/where-filter.interface';\n\nexport abstract class DbService {\n\n  getDocuments(\n    moduleId: string,\n    pageSize?: number,\n    sort?: {\n      active: string;\n      direction: string;\n    },\n    cursor?: any,\n    filters?: WhereFilter[]\n  ): Observable<any[]> {\n    return of([]);\n  }\n\n  getDocumentsSimple(\n    moduleId: string,\n    orderBy?: string,\n    filter?: WhereFilter\n  ): Observable<any[]> {\n    return of([]);\n  }\n\n  getStateChanges(\n    moduleId: string,\n    pageSize?: number,\n    sort?: {\n      active: string;\n      direction: string;\n    },\n    cursor?: any,\n    filters?: WhereFilter[],\n  ): Observable<any[]> {\n    return of([]);\n  }\n\n  getDocument<T = any>(\n    moduleId: string,\n    documentId: string,\n    stream = false\n  ): Observable<T> {\n    return of();\n  }\n\n  setDocument(\n    moduleId: string,\n    documentId: string,\n    data: any,\n    options?: any\n  ): Observable<void> {\n    return of();\n  }\n\n  removeDocument(moduleId: string, documentId: string): Observable<void> {\n    return of();\n  }\n\n  createUserAccount(email: string, password: string): Observable<{id: string}> {\n    return of();\n  }\n\n  removeUserAccount(id: string): Observable<any> {\n    return of();\n  }\n}\n","import {PortalInjector} from '@angular/cdk/portal';\nimport {InjectionToken, Injector} from '@angular/core';\n\nexport const COMPONENT_DATA = new InjectionToken<{}>('COMPONENT_DATA');\n\nexport function createComponentInjector(injector: Injector, dataToPass: any): PortalInjector {\n  const injectorTokens = new WeakMap();\n  injectorTokens.set(COMPONENT_DATA, dataToPass);\n  return new PortalInjector(injector, injectorTokens);\n}\n","import {Component, HostBinding, Inject} from '@angular/core';\nimport {FieldData} from '../interfaces/field-data.interface';\nimport {COMPONENT_DATA} from '../utils/create-component-injector';\n\n// @dynamic\n@Component({\n  selector: 'fb-field',\n  template: ''\n})\nexport class FieldComponent<T extends FieldData> {\n  constructor(\n    @Inject(COMPONENT_DATA) public cData: T\n  ) {\n\n    const classes = [\n      `fb-field-${this.cData.columnsDesktop || 12}`\n    ];\n\n    if (this.cData.columnsTablet) {\n      classes.push(`m-fb-field-${this.cData.columnsTablet}`);\n    }\n\n    if (this.cData.columnsMobile) {\n      classes.push(`s-fb-field-${this.cData.columnsMobile}`);\n    }\n\n    if (this.cData.class) {\n      classes.push(this.cData.class);\n    }\n\n    this.class = classes.join(' ');\n  }\n\n  @HostBinding('class')\n  class: string;\n}\n","import {Observable, of} from 'rxjs';\nimport {map} from 'rxjs/operators';\nimport {FieldData} from '../interfaces/field-data.interface';\nimport {safeEval} from './safe-eval';\n\nexport interface HSD {\n  type?: 'html' | 'static' | 'dynamic';\n  value: string;\n}\n\nexport function getHsd(\n  key: string,\n  data: FieldData\n): Observable<string> {\n  if (data[key]) {\n\n    let item: any;\n\n    switch (data[key].type) {\n      case 'dynamic':\n        item = safeEval(data[key].value);\n\n        if (item) {\n          return data.form.valueChanges\n            .pipe(\n              map(value =>\n                item(\n                  data.control.value,\n                  value\n                )\n              )\n            );\n        }\n\n        break;\n      case 'static':\n        item = safeEval(data[key].value);\n\n        if (item) {\n          return of(item(\n            data.control.value,\n            data.form.getRawValue()\n          ));\n        }\n        break;\n      case 'html':\n      default:\n        return of(data[key].value);\n    }\n  }\n\n  return of('');\n}\n","import {\n  ChangeDetectionStrategy,\n  Component,\n  Inject,\n  OnInit\n} from '@angular/core';\nimport {BehaviorSubject, Observable, of} from 'rxjs';\nimport {map, startWith, switchMap, tap} from 'rxjs/operators';\nimport {DbService} from '../../services/db.service';\nimport {FieldComponent} from '../../field/field.component';\nimport {FieldData} from '../../interfaces/field-data.interface';\nimport {WhereFilter} from '../../interfaces/where-filter.interface';\nimport {COMPONENT_DATA} from '../../utils/create-component-injector';\nimport {getHsd, HSD} from '../../utils/get-hsd';\n\ninterface AutocompleteData extends FieldData {\n  dataSet: Array<{name: string; value: any}>;\n  populate?: {\n    collection: string;\n    nameKey: string;\n    valueKey?: string;\n    orderBy?: string;\n    filter?: WhereFilter;\n  };\n  autocomplete?: string;\n  suffix?: HSD;\n  prefix?: HSD;\n}\n\n@Component({\n  selector: 'fb-autocomplete',\n  templateUrl: './autocomplete.component.html',\n  styleUrls: ['./autocomplete.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class AutocompleteComponent extends FieldComponent<AutocompleteData>\n  implements OnInit {\n  constructor(\n    @Inject(COMPONENT_DATA) public cData: AutocompleteData,\n    private dbService: DbService\n  ) {\n    super(cData);\n  }\n\n  filteredSet$: Observable<Array<{name: string; value: string}>>;\n  loading$ = new BehaviorSubject(true);\n  prefix$: Observable<string>;\n  suffix$: Observable<string>;\n\n  ngOnInit() {\n\n    this.prefix$ = getHsd('prefix', this.cData);\n    this.suffix$ = getHsd('suffix', this.cData);\n\n    let dataSet$: Observable<Array<{name: string; value: string}>>;\n\n    if (this.cData.populate) {\n\n      const {populate} = this.cData;\n\n      dataSet$ = this.dbService\n        .getDocumentsSimple(\n          this.cData.populate.collection,\n          this.cData.populate.orderBy,\n          this.cData.populate.filter\n        )\n        .pipe(\n          map(docs =>\n            docs.map(doc => ({\n              value: doc[populate.valueKey || 'id'],\n              name: doc[populate.nameKey]\n            }))\n          ),\n          tap(() => this.loading$.next(false))\n        );\n    } else {\n      dataSet$ = of(this.cData.dataSet);\n    }\n\n    this.filteredSet$ = dataSet$.pipe(\n      switchMap(dataSet =>\n        this.cData.control.valueChanges.pipe(\n          startWith(this.cData.control.value),\n          map(value => {\n            if (!value) {\n              return dataSet;\n            }\n\n            value = value.toLowerCase();\n\n            return dataSet.filter(item =>\n              item.name.toLowerCase().includes(value)\n            );\n          })\n        )\n      )\n    );\n  }\n}\n","import {Component, ChangeDetectionStrategy} from '@angular/core';\nimport {FieldComponent} from '../../field/field.component';\nimport {FieldData} from '../../interfaces/field-data.interface';\n\n@Component({\n  selector: 'fb-checkbox',\n  templateUrl: './checkbox.component.html',\n  styleUrls: ['./checkbox.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class CheckboxComponent extends FieldComponent<FieldData> {}\n","import {ChangeDetectionStrategy, Component, OnInit} from '@angular/core';\nimport {MatChipInputEvent} from '@angular/material/chips';\nimport {Observable} from 'rxjs';\nimport {FieldComponent} from '../../field/field.component';\nimport {FieldData} from '../../interfaces/field-data.interface';\nimport {getHsd, HSD} from '../../utils/get-hsd';\n\ninterface ChipsData extends FieldData {\n  selectable: boolean;\n  removable: boolean;\n  addOnBlur: boolean;\n  unique: boolean;\n  autocomplete?: string;\n  suffix?: HSD;\n  prefix?: HSD;\n}\n\n@Component({\n  selector: 'fb-chips',\n  templateUrl: './chips.component.html',\n  styleUrls: ['./chips.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class ChipsComponent extends FieldComponent<ChipsData>\n  implements OnInit {\n\n  data: string[] = [];\n  removable: boolean;\n  prefix$: Observable<string>;\n  suffix$: Observable<string>;\n\n  ngOnInit() {\n    this.data = this.cData.control.value;\n    this.removable = this.cData.hasOwnProperty('removable') ? this.cData.removable : true;\n    this.prefix$ = getHsd('prefix', this.cData);\n    this.suffix$ = getHsd('suffix', this.cData);\n  }\n\n  add(event: MatChipInputEvent) {\n    const value = (event.value || '').trim();\n    const input = event.input;\n\n    if (value && (this.cData.unique ? !this.data.includes(value) : true)) {\n      this.data.push(value);\n      this.cData.control.setValue(this.data);\n    }\n\n    if (input) {\n      input.value = '';\n    }\n  }\n\n  remove(chip: string) {\n    const index = this.cData.control.value.indexOf(chip);\n\n    if (index >= 0) {\n      this.data.splice(index, 1);\n      this.cData.control.setValue(this.data);\n    }\n  }\n}\n","import {\n  AbstractControl,\n  FormArray,\n  FormControl,\n  FormGroup\n} from '@angular/forms';\n\n/**\n * Deep clones the given AbstractControl, preserving values, validators, async validators, and disabled status.\n * @param control AbstractControl\n * @returns AbstractControl\n */\nexport function cloneAbstractControl<T extends AbstractControl>(control: T): T {\n  let newControl: T;\n\n  if (control instanceof FormGroup) {\n    const formGroup = new FormGroup(\n      {},\n      control.validator,\n      control.asyncValidator\n    );\n    const controls = control.controls;\n\n    Object.keys(controls).forEach(key => {\n      formGroup.addControl(key, cloneAbstractControl(controls[key]));\n    });\n\n    newControl = formGroup as any;\n  } else if (control instanceof FormArray) {\n    const formArray = new FormArray(\n      [],\n      control.validator,\n      control.asyncValidator\n    );\n\n    control.controls.forEach(formControl =>\n      formArray.push(cloneAbstractControl(formControl))\n    );\n\n    newControl = formArray as any;\n  } else if (control instanceof FormControl) {\n    newControl = new FormControl(\n      control.value,\n      control.validator,\n      control.asyncValidator\n    ) as any;\n  } else {\n    throw new Error('Error: unexpected control value');\n  }\n\n  if (control.disabled) {\n    newControl.disable({emitEvent: false});\n  }\n\n  return newControl;\n}\n","import {DatePipe} from '@angular/common';\nimport {ChangeDetectionStrategy, ChangeDetectorRef, Component, Inject, OnInit} from '@angular/core';\nimport {FormControl, FormGroup, Validators} from '@angular/forms';\nimport {of} from 'rxjs';\nimport {tap} from 'rxjs/operators';\nimport {FieldComponent} from '../../field/field.component';\nimport {FormBuilderService} from '../../form-builder.service';\nimport {FieldData} from '../../interfaces/field-data.interface';\nimport {COMPONENT_DATA} from '../../utils/create-component-injector';\nimport {cloneAbstractControl} from '../../utils/clone-abstract-control';\n\ninterface DateData extends FieldData {\n  startYear?: number;\n  startAt?: number;\n  touchUi?: boolean;\n  startView?: 'month' | 'year' | 'multi-year';\n  format?: 'number' | string;\n  autocomplete?: string;\n  includeTime?: boolean;\n  labelHours?: string;\n  labelMinutes?: string;\n  placeholderHours?: string;\n  placeholderMinutes?: string;\n}\n\n@Component({\n  selector: 'fb-date-field',\n  templateUrl: './date-field.component.html',\n  styleUrls: ['./date-field.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class DateFieldComponent extends FieldComponent<DateData>\n  implements OnInit {\n  constructor(\n    @Inject(COMPONENT_DATA) public cData: DateData,\n    private cdr: ChangeDetectorRef,\n    private formBuilderService: FormBuilderService\n  ) {\n    super(cData);\n  }\n\n  form: FormGroup;\n  startDate: Date;\n  entryControl: FormControl;\n  hoursControl: FormControl;\n  minutesControl: FormControl;\n\n  ngOnInit() {\n    this.formBuilderService.saveComponents.push(this);\n    this.startDate = this.cData.startAt\n      ? new Date(this.cData.startAt)\n      : new Date();\n\n    const date = new Date(this.cData.control.value);\n\n    this.entryControl = cloneAbstractControl(this.cData.control);\n    this.hoursControl = new FormControl(\n      {value: date.getHours() || 0, disabled: this.cData.control.disabled},\n      [Validators.min(0), Validators.max(23)]\n    );\n    this.minutesControl = new FormControl(\n      {value: date.getMinutes() || 0, disabled: this.cData.control.disabled},\n      [Validators.min(0), Validators.max(59)]\n    );\n\n    /**\n     * Dirty hack for getting numbers to display properly might need revisiting\n     */\n    if (\n      typeof this.entryControl.value === 'number' ||\n      typeof this.entryControl.value === 'string'\n    ) {\n      this.entryControl.setValue(new Date(this.entryControl.value));\n    }\n  }\n\n  save() {\n    return of({}).pipe(\n      tap(() => {\n        let value = this.entryControl.value;\n\n        if (value) {\n          if (this.cData.includeTime) {\n            value.setHours(this.hoursControl.value || 0);\n            value.setMinutes(this.minutesControl.value || 0);\n          }\n\n          if (this.cData.format) {\n            if (this.cData.format === 'number') {\n              value = value.getTime();\n            } else {\n              const pipe = new DatePipe('en');\n\n              value = pipe.transform(value, this.cData.format);\n            }\n          }\n        }\n\n        this.cData.control.setValue(value);\n      })\n    );\n  }\n}\n","import {CdkDragDrop, moveItemInArray} from '@angular/cdk/drag-drop';\nimport {ChangeDetectionStrategy, Component, OnInit} from '@angular/core';\nimport {FieldComponent} from '../../field/field.component';\nimport {FieldData} from '../../interfaces/field-data.interface';\nimport {Option} from '../../interfaces/option.interface';\n\ninterface DragData extends FieldData {\n  options: Option[];\n}\n\n@Component({\n  selector: 'fb-draggable-list',\n  templateUrl: './draggable-list.component.html',\n  styleUrls: ['./draggable-list.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class DraggableListComponent extends FieldComponent<DragData>\n  implements OnInit {\n  ngOnInit() {\n    if (this.cData.control.value.length) {\n      this.cData.options.sort((optionOne, optionTwo) => {\n        const indexOne = this.cData.control.value.indexOf(optionOne);\n        const indexTwo = this.cData.control.value.indexOf(optionTwo);\n        return indexTwo - indexOne;\n      });\n    }\n  }\n\n  drop(event: CdkDragDrop<string[]>) {\n    moveItemInArray(\n      this.cData.options,\n      event.previousIndex,\n      event.currentIndex\n    );\n\n    this.cData.control.setValue(\n      this.cData.options.map(val => {\n        return val.value;\n      })\n    );\n  }\n}\n","export abstract class StorageService {\n  storage: any;\n\n  upload(path: string, data: any, metadata?: any): any {}\n}\n","/**\n * Remove all characters that are not alphanumeric.\n *\n * In case of not finding any alphanumeric characters\n * return string `file-{random number}`\n *\n * @param name\n * File name to format\n */\nexport const formatFileName = (name: string): string => {\n  const extension = name.slice(name.lastIndexOf('.'));\n  name = name.slice(0, name.lastIndexOf('.'));\n  name = (name.match(/[a-zA-Z\\d.]/g) || []).join('');\n  return !!name.length ? name + extension : `file-${Math.floor(Math.random() * 10 ** 5) + 1}${extension}`;\n};\n","export const parseSize = (size: string | number): number => {\n  if (typeof size === 'number') {\n    return size;\n  }\n\n  const KB = 1024;\n  const MB = KB ** 2;\n\n  const num = parseFloat(size);\n  const unit = size.replace(/[0-9]/g, '').toLowerCase();\n\n  switch (unit) {\n    case 'kb': {\n      return num * KB;\n    }\n    case 'mb': {\n      return num * MB;\n    }\n    default: {\n      return 0;\n    }\n  }\n};\n","import {ChangeDetectionStrategy, ChangeDetectorRef, Component, ElementRef, Inject, OnInit, ViewChild} from '@angular/core';\nimport {MatSnackBar} from '@angular/material/snack-bar';\nimport {TranslocoService} from '@ngneat/transloco';\nimport {from, of, throwError} from 'rxjs';\nimport {switchMap, tap} from 'rxjs/operators';\nimport {FieldComponent} from '../../field/field.component';\nimport {FormBuilderService} from '../../form-builder.service';\nimport {FieldData} from '../../interfaces/field-data.interface';\nimport {StorageService} from '../../services/storage.service';\nimport {COMPONENT_DATA} from '../../utils/create-component-injector';\nimport {formatFileName} from '../../utils/format-file-name';\nimport {parseSize} from '../../utils/parse-size';\n\ninterface FileData extends FieldData {\n  emptyLabel?: string;\n  preventClear?: boolean;\n  allowedFileTypes?: string[];\n  forbiddenFileTypes?: string[];\n  minSize?: string | number;\n  maxSize?: string | number;\n}\n\n@Component({\n  selector: 'fb-file',\n  templateUrl: './file.component.html',\n  styleUrls: ['./file.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class FileComponent extends FieldComponent<FileData> implements OnInit {\n  @ViewChild('file', {static: true})\n  fileEl: ElementRef<HTMLInputElement>;\n  value: File;\n  name: string;\n  emptyLabel: string;\n\n  allowedFileTypes: string[];\n  forbiddenFileTypes: string[];\n  minSizeBytes: number;\n  maxSizeBytes: number;\n\n  constructor(\n    @Inject(COMPONENT_DATA) public cData: FileData,\n    private storage: StorageService,\n    private cdr: ChangeDetectorRef,\n    private formBuilderService: FormBuilderService,\n    private transloco: TranslocoService,\n    private snackBar: MatSnackBar\n  ) {\n    super(cData);\n  }\n\n  ngOnInit() {\n    if (this.cData.control.value) {\n      this.name = this.cData.control.value;\n    }\n\n    this.emptyLabel = (this.cData.hasOwnProperty('emptyLabel') ? this.cData.emptyLabel : 'FIELDS.FILE.EMPTY') as string;\n\n    this.formBuilderService.saveComponents.push(this);\n\n    this.allowedFileTypes = this.cData.allowedFileTypes || [];\n    this.forbiddenFileTypes = this.cData.forbiddenFileTypes || [];\n    this.minSizeBytes = this.cData.minSize ? parseSize(this.cData.minSize) : 0;\n    this.maxSizeBytes = this.cData.maxSize ? parseSize(this.cData.maxSize) : 0;\n  }\n\n  errorSnack(message: string = 'GENERAL.ERROR', dismiss: string = 'GENERAL.DISMISS') {\n    this.snackBar.open(\n      this.transloco.translate(message),\n      this.transloco.translate(dismiss),\n      {\n        panelClass: 'snack-bar-error',\n        duration: 5000\n      }\n    );\n  }\n\n  fileChange(ev: Event) {\n    const el = ev.target as HTMLInputElement;\n    const file = Array.from(el.files as FileList)[0] as File;\n\n    Object.defineProperty(file, 'name', {\n      writable: true,\n      value: formatFileName(file.name)\n    });\n\n    if (!this.allowedFileTypes.includes(file.type) && !!this.allowedFileTypes.length) {\n      this.errorSnack('FIELDS.FILE.INVALID_FILE_FORMAT');\n      return throwError('Invalid File Format');\n    }\n\n    if (this.forbiddenFileTypes.includes(file.type)) {\n      this.errorSnack('FIELDS.FILE.FORBIDDEN_FILE_FORMAT');\n      return throwError('Forbidden File Format');\n    }\n\n    if (file.size < this.minSizeBytes) {\n      this.errorSnack('FIELDS.FILE.BELOW_SIZE');\n      return throwError('File below minimal allowed size');\n    }\n\n    if (file.size > this.maxSizeBytes && !!this.maxSizeBytes) {\n      this.errorSnack('FIELDS.FILE.EXCEED_SIZE');\n      return throwError('File exceeding allowed size');\n    }\n\n    this.value = file;\n    if (this.value) {\n      this.name = this.value.name;\n    }\n    el.value = '';\n  }\n\n  clear() {\n    this.name = '';\n    this.cData.control.setValue('');\n  }\n\n  save(moduleId: string, documentId: string) {\n    if (this.value) {\n      const name = [\n        moduleId,\n        documentId,\n        this.value.name\n      ]\n        .join('-');\n\n      return from(\n        this.storage.upload(name, this.value, {\n          contentType: this.value.type,\n          customMetadata: {\n            moduleId,\n            documentId\n          }\n        })\n      ).pipe(\n        switchMap((res: any) => res.ref.getDownloadURL()),\n        tap(url => this.cData.control.setValue(url))\n      );\n    } else {\n      return of({});\n    }\n  }\n}\n","import {GeneratedImage} from '../interfaces/generated-image.interface';\n\nexport function formatGeneratedImages(data: GeneratedImage[]) {\n  return data.reduce((acc, cur, index) => {\n    acc[`generate_${index + 1}`] = Object.entries(cur).reduce((generated, [key, value]) => {\n      generated += `----${key}:${value}`;\n      return generated;\n    }, '');\n    return acc;\n  }, {}) as {\n    [key: string]: string;\n  };\n}\n","import {InjectionToken} from '@angular/core';\n\nexport const STORAGE_URL = new InjectionToken<{}>('STORAGE_URL');\n","/**\n * Switches the location of two items\n * in an array\n */\nexport function switchItemLocations(\n  items: any[],\n  previousIndex: number,\n  currentIndex: number\n) {\n  const itemOne = items[previousIndex];\n  const itemTwo = items[currentIndex];\n\n  items[currentIndex] = itemOne;\n  items[previousIndex] = itemTwo;\n}\n","import {Observable} from 'rxjs';\n\nexport function readFile(blob: Blob): Observable<string> {\n  return new Observable(obs => {\n    if (!(blob instanceof Blob)) {\n      obs.error(new Error('`blob` must be an instance of File or Blob.'));\n      return;\n    }\n\n    const reader = new FileReader();\n\n    reader.onerror = err => obs.error(err);\n    reader.onabort = err => obs.error(err);\n    reader.onload = () => obs.next(reader.result as string);\n    reader.onloadend = () => obs.complete();\n\n    return reader.readAsDataURL(blob);\n  });\n}\n","import {CdkDrag, CdkDragDrop, CdkDragMove, CdkDropList, CdkDropListGroup, moveItemInArray} from '@angular/cdk/drag-drop';\nimport {ViewportRuler} from '@angular/cdk/overlay';\nimport {HttpClient} from '@angular/common/http';\nimport {\n  AfterViewInit,\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  ElementRef,\n  Inject,\n  OnInit,\n  Optional,\n  TemplateRef,\n  ViewChild\n} from '@angular/core';\nimport {MatDialog} from '@angular/material/dialog';\nimport {MatSnackBar} from '@angular/material/snack-bar';\nimport {TranslocoService} from '@ngneat/transloco';\nimport {forkJoin, from, of, throwError} from 'rxjs';\nimport {catchError, map, switchMap, tap} from 'rxjs/operators';\nimport {FieldComponent} from '../../field/field.component';\nimport {FormBuilderService} from '../../form-builder.service';\nimport {FieldData} from '../../interfaces/field-data.interface';\nimport {GeneratedImage} from '../../interfaces/generated-image.interface';\nimport {StorageService} from '../../services/storage.service';\nimport {COMPONENT_DATA} from '../../utils/create-component-injector';\nimport {formatFileName} from '../../utils/format-file-name';\nimport {formatGeneratedImages} from '../../utils/format-generated-images';\nimport {parseSize} from '../../utils/parse-size';\nimport {STORAGE_URL} from '../../utils/storage-url';\nimport {switchItemLocations} from '../../utils/switch-item-locations';\nimport {readFile} from './read-file';\n\ninterface GalleryData extends FieldData {\n  allowUrl?: boolean;\n  allowServerUpload?: boolean;\n  generatedImages?: GeneratedImage[];\n  allowedImageTypes?: string[];\n  forbiddenImageTypes?: string[];\n  minSize?: string | number;\n  maxSize?: string | number;\n}\n\n@Component({\n  selector: 'fb-gallery',\n  templateUrl: './gallery.component.html',\n  styleUrls: ['./gallery.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class GalleryComponent extends FieldComponent<GalleryData>\n  implements OnInit, AfterViewInit {\n  constructor(\n    @Inject(COMPONENT_DATA)\n    public cData: GalleryData,\n    @Optional()\n    @Inject(STORAGE_URL)\n    private storageUrl: string,\n    private dialog: MatDialog,\n    private cdr: ChangeDetectorRef,\n    private http: HttpClient,\n    private storage: StorageService,\n    private formBuilderService: FormBuilderService,\n    private viewportRuler: ViewportRuler,\n    private transloco: TranslocoService,\n    private snackBar: MatSnackBar\n  ) {\n    super(cData);\n  }\n\n  @ViewChild(CdkDropListGroup, {static: true})\n  listGroup: CdkDropListGroup<CdkDropList>;\n  @ViewChild(CdkDropList, {static: true})\n  placeholder: CdkDropList;\n  @ViewChild('modal', {static: true})\n  modalTemplate: TemplateRef<any>;\n  @ViewChild('imagesSort', {static: true})\n  imagesSort: TemplateRef<any>;\n  @ViewChild('file', {static: true})\n  fileEl: ElementRef<HTMLInputElement>;\n  target: CdkDropList | null;\n  targetIndex: number;\n  source: CdkDropList | null;\n  sourceIndex: number;\n  activeContainer: any;\n  files: File[] = [];\n  toRemove: any[] = [];\n\n  allowedImageTypes: string[];\n  forbiddenImageTypes: string[];\n  minSizeBytes: number;\n  maxSizeBytes: number;\n\n  ngOnInit() {\n    this.formBuilderService.saveComponents.push(this);\n\n    this.allowedImageTypes = this.cData.allowedImageTypes || [];\n    this.forbiddenImageTypes = this.cData.forbiddenImageTypes || [];\n    this.minSizeBytes = this.cData.minSize ? parseSize(this.cData.minSize) : 0;\n    this.maxSizeBytes = this.cData.maxSize ? parseSize(this.cData.maxSize) : 0;\n  }\n\n  ngAfterViewInit() {\n    const phElement = this.placeholder.element.nativeElement;\n    const {parentElement} = phElement as any;\n\n    phElement.style.display = 'none';\n    parentElement.removeChild(phElement);\n  }\n\n  openUploadDialog() {\n    this.dialog.open(this.modalTemplate, {\n      width: '420px'\n    });\n  }\n\n  addImage(image: string) {\n    this.http\n      .get(image, {\n        withCredentials: false,\n        responseType: 'blob'\n      })\n      .pipe(\n        switchMap((blob: Blob) => {\n          const type = blob.type.split('/')[1].toLowerCase();\n          if (!this.allowedImageTypes.includes(type) && !!this.allowedImageTypes.length) {\n            return throwError('Invalid Image Format');\n          }\n\n          if (this.forbiddenImageTypes.includes(type)) {\n            return throwError('Forbidden Image Format');\n          }\n\n          if (blob.size < this.minSizeBytes) {\n            return throwError('Image below minimal allowed size');\n          }\n\n          if (blob.size > this.maxSizeBytes && !!this.maxSizeBytes) {\n            return throwError('Image exceeding allowed size');\n          }\n\n          return of(blob);\n        }),\n        this.formBuilderService.notify({\n          error: 'FIELDS.GALLERY.UPLOAD_ERROR',\n          success: null\n        }))\n      .subscribe(res => {\n        const urlCreator = window.URL || (window as any).webkitURL;\n        const value = this.cData.control.value;\n\n        value.push({\n          data: urlCreator.createObjectURL(res),\n          live: true\n        });\n\n        this.cData.control.setValue(value);\n        this.cdr.detectChanges();\n      });\n  }\n\n  openFileUpload() {\n    this.fileEl.nativeElement.click();\n  }\n\n  openSortImages() {\n    this.dialog.open(this.imagesSort, {\n      width: '800px'\n    });\n  }\n\n  drop(event: CdkDragDrop<string[]>) {\n    const value = this.cData.control.value;\n    switchItemLocations(value, event.previousIndex, event.currentIndex);\n    this.cData.control.setValue(value);\n    this.cdr.detectChanges();\n  }\n\n  move(up = false, index: number) {\n    const currentIndex = up ? index - 1 : index + 1;\n    const value = this.cData.control.value;\n    moveItemInArray(value, index, currentIndex);\n    this.cData.control.setValue(value);\n    this.cdr.detectChanges();\n  }\n\n  errorSnack(message: string = 'GENERAL.ERROR', dismiss: string = 'GENERAL.DISMISS') {\n    this.snackBar.open(\n      this.transloco.translate(message),\n      this.transloco.translate(dismiss),\n      {\n        panelClass: 'snack-bar-error',\n        duration: 5000\n      }\n    );\n  }\n\n  filesUploaded(el: HTMLInputElement | FileList) {\n    const files = Array.from((el instanceof FileList ? el : el.files) as FileList);\n    for (const file of files) {\n      Object.defineProperty(file, 'name', {\n        writable: true,\n        value: formatFileName(file.name)\n      });\n\n      const type = file.type.split('/')[1].toLowerCase();\n\n      if (!this.allowedImageTypes.includes(type) && !!this.allowedImageTypes.length) {\n        this.errorSnack('FIELDS.GALLERY.INVALID_IMAGE_FORMAT');\n        return throwError('Invalid Image Format');\n      }\n\n      if (this.forbiddenImageTypes.includes(type)) {\n        this.errorSnack('FIELDS.GALLERY.FORBIDDEN_IMAGE_FORMAT');\n        return throwError('Forbidden Image Format');\n      }\n\n      if (file.size < this.minSizeBytes) {\n        this.errorSnack('FIELDS.GALLERY.BELOW_SIZE');\n        return throwError('Image below minimal allowed size');\n      }\n\n      if (file.size > this.maxSizeBytes && !!this.maxSizeBytes) {\n        this.errorSnack('FIELDS.GALLERY.EXCEED_SIZE');\n        return throwError('Image exceeding allowed size');\n      }\n    }\n\n    forkJoin(\n      files.map(file =>\n        readFile(file).pipe(\n          map(data => ({\n            data,\n            pushToLive: file,\n            live: false\n          }))\n        )\n      )\n    ).subscribe(\n      fls => {\n        const value = this.cData.control.value;\n        value.push(...fls);\n        this.cData.control.setValue(value);\n\n        if (!(el instanceof FileList)) {\n          el.value = '';\n        }\n\n        this.cdr.detectChanges();\n      },\n      () => {\n        if (!(el instanceof FileList)) {\n          el.value = '';\n        }\n      }\n    );\n  }\n\n  removeImage(index: number, item: any) {\n    if (item.live && item.data.includes(this.storageUrl)) {\n      this.toRemove.push(item.data);\n    }\n\n    this.cData.control.value.splice(index, 1);\n  }\n\n  sortDrop(event: CdkDragDrop<string[]>) {\n    const value = this.cData.control.value;\n    moveItemInArray(value, event.previousIndex, event.currentIndex);\n    this.cData.control.setValue(value);\n  }\n\n  /**\n   * Drag and Drop\n   */\n  dragMoved(e: CdkDragMove) {\n    const point = this.getPointerPositionOnPage(e.event);\n\n    this.listGroup._items.forEach(dropList => {\n      if (__isInsideDropListClientRect(dropList, point.x, point.y)) {\n        this.activeContainer = dropList;\n        return;\n      }\n    });\n  }\n\n  dropListDropped() {\n    if (!this.target) {\n      return;\n    }\n\n    const phElement = this.placeholder.element.nativeElement;\n    const parent: any = phElement.parentElement;\n\n    phElement.style.display = 'none';\n\n    const {element} = this.source as any;\n\n    parent.removeChild(phElement);\n    parent.appendChild(phElement);\n    parent.insertBefore(element.nativeElement, parent.children[this.sourceIndex]);\n\n    this.target = null;\n    this.source = null;\n\n    if (this.sourceIndex !== this.targetIndex) {\n      const value = this.cData.control.value;\n      moveItemInArray(value, this.sourceIndex, this.targetIndex);\n      this.cData.control.setValue(value);\n    }\n  }\n\n  /** Determines the point of the page that was touched by the user. */\n  getPointerPositionOnPage(event: MouseEvent | TouchEvent) {\n    // `touches` will be empty for start/end events so we have to fall back to `changedTouches`.\n    const point = __isTouchEvent(event) ? (event.touches[0] || event.changedTouches[0]) : event;\n    const scrollPosition = this.viewportRuler.getViewportScrollPosition();\n\n    return {\n      x: point.pageX - scrollPosition.left,\n      y: point.pageY - scrollPosition.top\n    };\n  }\n\n  /**\n   * Executes all uploads/removes to persist\n   * the changes on server\n   */\n  save(moduleId: string, documentId: string) {\n    if (\n      !this.toRemove.length &&\n      !this.cData.control.value ||\n      !this.cData.control.value.find((val: any) => !val.live)\n    ) {\n      return of([]);\n    }\n\n    return forkJoin([\n      ...this.toRemove.map(file =>\n        from(this.storage.storage.refFromURL(file).delete()).pipe(\n          /**\n           * Dont' fail if files didn't delete\n           */\n          catchError(() => of([]))\n        )\n      ),\n      ...this.cData.control.value.reduce((acc: any[], cur: any) => {\n        if (cur.live !== undefined && !cur.live) {\n\n          const name = [\n            moduleId,\n            documentId,\n            cur.pushToLive.name\n          ]\n            .join('-');\n\n          acc.push(\n            from(\n              this.storage.upload(name, cur.pushToLive, {\n                contentType: cur.pushToLive.type,\n                customMetadata: {\n                  moduleId,\n                  documentId,\n                  ...this.cData.generatedImages &&\n                  formatGeneratedImages(this.cData.generatedImages)\n                }\n              })\n            ).pipe(\n              switchMap((task: any) => task.ref.getDownloadURL()),\n              tap(url => {\n                cur.data = url;\n              })\n            )\n          );\n        } else {\n          acc.push(cur);\n        }\n\n        return acc;\n      }, [])\n    ]).pipe(\n      tap(() =>\n        this.cData.control.setValue(\n          this.cData.control.value.map((item: any) => (item.data ? item.data : item))\n        )\n      )\n    );\n  }\n}\n\nfunction __indexOf(collection: any, node: any) {\n  return Array.prototype.indexOf.call(collection, node);\n}\n\n/** Determines whether an event is a touch event. */\nfunction __isTouchEvent(event: MouseEvent | TouchEvent): event is TouchEvent {\n  return event.type.startsWith('touch');\n}\n\nfunction __isInsideDropListClientRect(dropList: CdkDropList, x: number, y: number) {\n  const {top, bottom, left, right} = dropList.element.nativeElement.getBoundingClientRect();\n  return y >= top && y <= bottom && x >= left && x <= right;\n}\n","import {ChangeDetectionStrategy, ChangeDetectorRef, Component, ElementRef, Inject, OnInit, ViewChild} from '@angular/core';\nimport {FormControl} from '@angular/forms';\nimport {MatSnackBar} from '@angular/material/snack-bar';\nimport {DomSanitizer, SafeResourceUrl} from '@angular/platform-browser';\nimport {TranslocoService} from '@ngneat/transloco';\nimport {from, of, throwError} from 'rxjs';\nimport {switchMap, tap} from 'rxjs/operators';\nimport {FieldComponent} from '../../field/field.component';\nimport {FormBuilderService} from '../../form-builder.service';\nimport {FieldData} from '../../interfaces/field-data.interface';\nimport {GeneratedImage} from '../../interfaces/generated-image.interface';\nimport {StorageService} from '../../services/storage.service';\nimport {COMPONENT_DATA} from '../../utils/create-component-injector';\nimport {formatFileName} from '../../utils/format-file-name';\nimport {formatGeneratedImages} from '../../utils/format-generated-images';\nimport {parseSize} from '../../utils/parse-size';\n\ninterface ImageData extends FieldData {\n  preventServerUpload?: boolean;\n  generatedImages?: GeneratedImage[];\n  allowedImageTypes?: string[];\n  forbiddenImageTypes?: string[];\n  minSize?: string | number;\n  maxSize?: string | number;\n}\n\n@Component({\n  selector: 'fb-image',\n  templateUrl: './image.component.html',\n  styleUrls: ['./image.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class ImageComponent extends FieldComponent<ImageData>\n  implements OnInit {\n  constructor(\n    @Inject(COMPONENT_DATA) public cData: ImageData,\n    private storage: StorageService,\n    private cdr: ChangeDetectorRef,\n    private formBuilderService: FormBuilderService,\n    private transloco: TranslocoService,\n    private snackBar: MatSnackBar,\n    private domSanitizer: DomSanitizer\n  ) {\n    super(cData);\n  }\n\n  @ViewChild('file', {static: true})\n  fileEl: ElementRef<HTMLInputElement>;\n  value: File | null;\n  imageUrl: FormControl;\n  disInput = false;\n  imageSrc: SafeResourceUrl;\n\n  allowedImageTypes: string[];\n  forbiddenImageTypes: string[];\n  minSizeBytes: number;\n  maxSizeBytes: number;\n\n  ngOnInit() {\n    this.imageUrl = new FormControl(this.cData.control.value);\n    this.formBuilderService.saveComponents.push(this);\n\n    this.allowedImageTypes = this.cData.allowedImageTypes || [];\n    this.forbiddenImageTypes = this.cData.forbiddenImageTypes || [];\n    this.minSizeBytes = this.cData.minSize ? parseSize(this.cData.minSize) : 0;\n    this.maxSizeBytes = this.cData.maxSize ? parseSize(this.cData.maxSize) : 0;\n  }\n\n  errorSnack(message: string = 'GENERAL.ERROR', dismiss: string = 'GENERAL.DISMISS') {\n    this.snackBar.open(\n      this.transloco.translate(message),\n      this.transloco.translate(dismiss),\n      {\n        panelClass: 'snack-bar-error',\n        duration: 5000\n      }\n    );\n  }\n\n  openFileUpload() {\n    this.fileEl.nativeElement.click();\n  }\n\n  filesImage(event: Event) {\n    const el = event.target as HTMLInputElement;\n    const image = Array.from(el.files as FileList)[0] as File;\n\n    Object.defineProperty(image, 'name', {\n      writable: true,\n      value: formatFileName(image.name)\n    });\n\n    if (!this.allowedImageTypes.includes(image.type) && !!this.allowedImageTypes.length) {\n      this.errorSnack('FIELDS.GALLERY.INVALID_IMAGE_FORMAT');\n      return throwError('Invalid Image Format');\n    }\n\n    if (this.forbiddenImageTypes.includes(image.type)) {\n      this.errorSnack('FIELDS.GALLERY.FORBIDDEN_IMAGE_FORMAT');\n      return throwError('Forbidden Image Format');\n    }\n\n    if (image.size < this.minSizeBytes) {\n      this.errorSnack('FIELDS.GALLERY.BELOW_SIZE');\n      return throwError('Image below minimal allowed size');\n    }\n\n    if (image.size > this.maxSizeBytes && !!this.maxSizeBytes) {\n      this.errorSnack('FIELDS.GALLERY.EXCEED_SIZE');\n      return throwError('Image exceeding allowed size');\n    }\n\n    this.value = image;\n    this.disInput = true;\n    this.imageUrl.setValue(this.value.name);\n\n    const reader = new FileReader();\n    reader.onload = () => {\n      this.imageSrc = this.domSanitizer.bypassSecurityTrustResourceUrl(\n        reader.result as string\n      );\n      this.cdr.detectChanges();\n    };\n    reader.readAsDataURL(this.value);\n    el.value = '';\n  }\n\n  remove() {\n    this.imageUrl.setValue('');\n    this.value = null;\n    this.disInput = false;\n    this.cdr.detectChanges();\n  }\n\n  save(moduleId: string, documentId: string) {\n    if (this.value) {\n      if (this.imageUrl.value && this.imageUrl.value !== this.value.name) {\n        return of(this.imageUrl.value).pipe(\n          tap(() => this.cData.control.setValue(this.imageUrl.value))\n        );\n      } else {\n\n        const name = [\n          moduleId,\n          documentId,\n          this.value.name\n        ]\n          .join('-');\n\n        return from(\n          this.storage.upload(name, this.value, {\n            contentType: this.value.type,\n            customMetadata: {\n              moduleId,\n              documentId,\n              ...(this.cData.generatedImages &&\n                formatGeneratedImages(this.cData.generatedImages))\n            }\n          })\n        ).pipe(\n          switchMap((res: any) => res.ref.getDownloadURL()),\n          tap(url => this.cData.control.setValue(url))\n        );\n      }\n    } else {\n      this.cData.control.setValue(this.imageUrl.value);\n      return of({});\n    }\n  }\n}\n","import {ChangeDetectionStrategy, Component, OnInit} from '@angular/core';\nimport {Observable} from 'rxjs';\nimport {FieldComponent} from '../../field/field.component';\nimport {FieldData} from '../../interfaces/field-data.interface';\nimport {getHsd, HSD} from '../../utils/get-hsd';\n\ninterface InputData extends FieldData {\n  type: 'text' | 'number' | 'email';\n  autocomplete?: string;\n  suffix?: HSD;\n  prefix?: HSD;\n}\n\n@Component({\n  selector: 'fb-input',\n  templateUrl: './input.component.html',\n  styleUrls: ['./input.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class InputComponent extends FieldComponent<InputData> implements OnInit {\n\n  prefix$: Observable<string>;\n  suffix$: Observable<string>;\n\n  ngOnInit() {\n    this.prefix$ = getHsd('prefix', this.cData);\n    this.suffix$ = getHsd('suffix', this.cData);\n  }\n}\n","import {ChangeDetectionStrategy, Component} from '@angular/core';\nimport {FieldComponent} from '../../field/field.component';\nimport {FieldData} from '../../interfaces/field-data.interface';\nimport {Option} from '../../interfaces/option.interface';\n\ninterface RadioData extends FieldData {\n  options: Option[];\n}\n\n@Component({\n  selector: 'fb-radio',\n  templateUrl: './radio.component.html',\n  styleUrls: ['./radio.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class RadioComponent extends FieldComponent<RadioData> {}\n","import {ChangeDetectorRef, Component, Inject, OnInit} from '@angular/core';\nimport {FormControl, Validators} from '@angular/forms';\nimport {of} from 'rxjs';\nimport {tap} from 'rxjs/operators';\nimport {FieldComponent} from '../../field/field.component';\nimport {FormBuilderService} from '../../form-builder.service';\nimport {FieldData} from '../../interfaces/field-data.interface';\nimport {cloneAbstractControl} from '../../utils/clone-abstract-control';\nimport {COMPONENT_DATA} from '../../utils/create-component-injector';\n\ninterface RangeData extends FieldData {\n  min?: number;\n  max?: number;\n}\n\n@Component({\n  selector: 'fb-range',\n  templateUrl: './range.component.html',\n  styleUrls: ['./range.component.css']\n})\nexport class RangeComponent extends FieldComponent<RangeData> implements OnInit {\n\n  entryControl: FormControl;\n  start: FormControl;\n  end: FormControl;\n  min: Date;\n  max: Date;\n\n  constructor(\n    @Inject(COMPONENT_DATA) public cData: RangeData,\n    private cdr: ChangeDetectorRef,\n    private formBuilderService: FormBuilderService\n  ) {\n    super(cData);\n  }\n\n  ngOnInit(): void {\n    this.formBuilderService.saveComponents.push(this);\n\n    this.min = new Date(this.cData.min || 0);\n    this.max = new Date(this.cData.max || Date.now() * 2);\n    this.entryControl = cloneAbstractControl(this.cData.control);\n\n    this.start = new FormControl(\n      {value: this.entryControl.value.start || '', disabled: this.cData.control.disabled},\n      [Validators.min(this.cData.min || 0)]\n    );\n\n    this.end = new FormControl(\n      {value: this.entryControl.value.end || '', disabled: this.cData.control.disabled},\n      [Validators.max(this.cData.max || Date.now() * 2)]\n    );\n  }\n\n  save() {\n    return of({}).pipe(\n      tap(() => {\n        const start = this.start.value;\n        const end = this.end.value;\n        this.cData.control.setValue({start, end});\n      })\n    );\n  }\n}\n","import {InjectionToken} from '@angular/core';\n\nexport const ADDITIONAL_CONTEXT = new InjectionToken<{}>('ADDITIONAL_CONTEXT');\n","export function parseTemplate(\n  value = '',\n  obj: any = {}\n) {\n\n  if (!value.includes('{{')) {\n    return obj[value];\n  } else {\n\n    const lookUp = new RegExp(`{{(.*?)}}`);\n\n    while (lookUp.test(value)) {\n      value = value.replace(\n        lookUp,\n        (RegExp.$1)\n          .split('.')\n          .reduce((acc, cur) =>\n              acc[cur],\n            obj\n          )\n      );\n    }\n\n    return value;\n  }\n}\n","import {InjectionToken} from '@angular/core';\n\nexport const ROLE = new InjectionToken<{}>('ROLE');\n","import {ChangeDetectionStrategy, Component, Inject, OnInit, Optional} from '@angular/core';\nimport {BehaviorSubject, Observable, of} from 'rxjs';\nimport {map, startWith, switchMap, tap} from 'rxjs/operators';\nimport {FieldComponent} from '../../field/field.component';\nimport {FieldData} from '../../interfaces/field-data.interface';\nimport {Option} from '../../interfaces/option.interface';\nimport {WhereFilter} from '../../interfaces/where-filter.interface';\nimport {DbService} from '../../services/db.service';\nimport {ADDITIONAL_CONTEXT} from '../../utils/additional-context';\nimport {COMPONENT_DATA} from '../../utils/create-component-injector';\nimport {parseTemplate} from '../../utils/parse-template';\nimport {ROLE} from '../../utils/role';\nimport {safeEval} from '../../utils/safe-eval';\n\ninterface Populate {\n  collection?: string;\n  nameKey?: string;\n  valueKey?: string;\n  orderBy?: string;\n\n  /**\n   * A method for mapping all of the results\n   * (items: T[]) => any[]\n   */\n  mapResults?: string;\n\n  /**\n   * If a filter is a string\n   * it represents the id of the document\n   */\n  filter?: WhereFilter | string;\n\n  /**\n   * A stringified function that receives\n   * an object with {fieldData: SelectData, value: form.getRawValue(), role: string, additionalContext?: any}\n   * and should return a WhereFilter.\n   * This doesn't work in combination with the dependency property\n   */\n  dynamicFilter?: string;\n\n  /**\n   * Use this property if the field depends on changes\n   * of a different field in the form\n   */\n  dependency?: {\n    key: string;\n\n    /**\n     * A method for defining query dynamically\n     * (value) => {collection: string; orderBy: string; filter: WhereFilter | string}\n     */\n    method: string;\n  };\n}\n\ninterface SelectData extends FieldData {\n  dataSet?: Option[];\n  multiple?: boolean;\n  populate?: Populate;\n  autocomplete?: string;\n}\n\n@Component({\n  selector: 'fb-select',\n  templateUrl: './select.component.html',\n  styleUrls: ['./select.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class SelectComponent extends FieldComponent<SelectData>\n  implements OnInit {\n  dataSet$: Observable<Option[]>;\n  loading$ = new BehaviorSubject(true);\n\n  constructor(\n    @Inject(COMPONENT_DATA) public cData: SelectData,\n    private dbService: DbService,\n    @Inject(ROLE)\n    private role: string,\n    @Optional()\n    @Inject(ADDITIONAL_CONTEXT)\n    private additionalContext: any\n  ) {\n    super(cData);\n  }\n\n  ngOnInit() {\n    if (this.cData.populate) {\n\n      const populate = this.cData.populate as Populate;\n\n      const mapResults = populate.mapResults ? safeEval(populate.mapResults) : null;\n      const documentsMethod = (\n        query?: {\n          collection: string,\n          orderBy: string,\n          filter: WhereFilter | string\n        }\n      ) => {\n\n        this.loading$.next(true);\n\n        if (!query) {\n          this.loading$.next(false);\n          return of([]);\n        }\n\n        if (query.filter && typeof query.filter === 'string') {\n          return this.dbService.getDocument(\n            query.collection,\n            query.filter\n          )\n            .pipe(\n              map(it => {\n                return (mapResults ? mapResults(it) : [it]).map((doc: any) => ({\n                  value: doc[populate.valueKey || 'id'],\n                  name: parseTemplate(\n                    populate.nameKey || 'name',\n                    doc\n                  )\n                }));\n              }),\n              tap(() => this.loading$.next(false))\n            );\n        }\n\n        return this.dbService\n          .getDocumentsSimple(\n            query.collection,\n            query.orderBy,\n            query.filter as WhereFilter\n          )\n          .pipe(\n            map(docs => {\n              if (mapResults) {\n                docs = mapResults(docs, {\n                  fieldData: this.cData,\n                  value: this.cData.form.getRawValue(),\n                  role: this.role,\n                  additionalContext: this.additionalContext\n                });\n              }\n\n              return docs.map(doc => ({\n                value: doc[populate.valueKey || 'id'],\n                name: parseTemplate(\n                  populate.nameKey || 'name',\n                  doc\n                )\n              }));\n            }),\n            tap(() => this.loading$.next(false))\n          );\n      };\n\n      if (populate.dependency) {\n\n        const pointer = this.cData.pointers[populate.dependency.key];\n        const gm = safeEval(populate.dependency.method);\n\n        this.dataSet$ = pointer.control.valueChanges\n          .pipe(\n            startWith(\n              pointer.control.value\n            ),\n            switchMap(value =>\n              documentsMethod(\n                gm(value, {\n                  fieldData: this.cData,\n                  value: this.cData.form.getRawValue(),\n                  role: this.role,\n                  additionalContext: this.additionalContext\n                })\n              )\n            )\n          );\n      } else {\n\n        let filter: WhereFilter = populate.filter as WhereFilter;\n\n        if (populate.dynamicFilter) {\n          filter = safeEval(populate.dynamicFilter)({\n            fieldData: this.cData,\n            value: this.cData.form.getRawValue(),\n            role: this.role,\n            additionalContext: this.additionalContext\n          });\n        }\n\n        this.dataSet$ = documentsMethod({\n          collection: populate.collection,\n          orderBy: populate.orderBy,\n          filter\n        } as any);\n      }\n    } else {\n      this.dataSet$ = of(this.cData.dataSet as any);\n    }\n  }\n}\n","import {ChangeDetectionStrategy, Component, OnInit} from '@angular/core';\nimport {FieldComponent} from '../../field/field.component';\nimport {FieldData} from '../../interfaces/field-data.interface';\n\ninterface SliderData extends FieldData {\n  validation: {\n    minimum: number;\n    maximum: number;\n  };\n  thumbLabel: boolean;\n  tickInterval: number;\n  starAt: number;\n  endAt: number;\n}\n\n@Component({\n  selector: 'fb-slider',\n  templateUrl: './slider.component.html',\n  styleUrls: ['./slider.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class SliderComponent extends FieldComponent<SliderData>\n  implements OnInit {\n  startAt: number;\n  endAt: number;\n\n  ngOnInit() {\n    this.startAt = this.cData.starAt\n      ? this.cData.starAt\n      : this.cData.validation.minimum\n      ? this.cData.validation.minimum\n      : 0;\n    this.endAt = this.cData.endAt\n      ? this.cData.endAt\n      : this.cData.validation.maximum\n      ? this.cData.validation.maximum\n      : 100;\n  }\n}\n","import {Component, ChangeDetectionStrategy, OnInit} from '@angular/core';\nimport {Observable} from 'rxjs';\nimport {FieldComponent} from '../../field/field.component';\nimport {FieldData} from '../../interfaces/field-data.interface';\nimport {getHsd, HSD} from '../../utils/get-hsd';\n\ninterface TextareaData extends FieldData {\n  rows?: number;\n  cols?: number;\n  autocomplete?: string;\n  suffix?: HSD;\n  prefix?: HSD;\n}\n\n@Component({\n  selector: 'fb-textarea',\n  templateUrl: './textarea.component.html',\n  styleUrls: ['./textarea.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class TextareaComponent extends FieldComponent<TextareaData> implements OnInit {\n\n  prefix$: Observable<string>;\n  suffix$: Observable<string>;\n\n  ngOnInit() {\n    this.prefix$ = getHsd('prefix', this.cData);\n    this.suffix$ = getHsd('suffix', this.cData);\n  }\n}\n","import {ChangeDetectionStrategy, Component} from '@angular/core';\nimport {FieldComponent} from '../../field/field.component';\nimport {FieldData} from '../../interfaces/field-data.interface';\n\n@Component({\n  selector: 'fb-toggle',\n  templateUrl: './toggle.component.html',\n  styleUrls: ['./toggle.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class ToggleComponent extends FieldComponent<FieldData> {}\n","import {\n  AfterViewInit,\n  ChangeDetectionStrategy,\n  Component,\n  ElementRef,\n  Inject,\n  OnInit,\n  TemplateRef,\n  ViewChild\n} from '@angular/core';\nimport {FormBuilder, FormGroup, Validators} from '@angular/forms';\nimport {MatDialog} from '@angular/material/dialog';\nimport {filter, take} from 'rxjs/operators';\nimport {FieldComponent} from '../../field/field.component';\nimport 'tinymce/plugins/code';\nimport 'tinymce/plugins/print';\nimport 'tinymce/plugins/wordcount';\nimport 'tinymce/plugins/link';\nimport 'tinymce/plugins/image';\nimport 'tinymce/plugins/imagetools';\nimport 'tinymce/plugins/fullscreen';\nimport 'tinymce/plugins/lists';\nimport 'tinymce/plugins/autolink';\nimport 'tinymce/plugins/advlist';\nimport 'tinymce/plugins/table';\nimport {FormBuilderComponent} from '../../form-builder.component';\nimport {FieldData} from '../../interfaces/field-data.interface';\nimport {StorageService} from '../../services/storage.service';\nimport {COMPONENT_DATA} from '../../utils/create-component-injector';\n\ndeclare const tinymce: any;\n\nexport interface WysiwygData extends FieldData {\n  menubar?: string;\n  toolbar?: string;\n  height?: number;\n}\n\n@Component({\n  selector: 'fb-wysiwyg',\n  templateUrl: './wysiwyg.component.html',\n  styleUrls: ['./wysiwyg.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class WysiwygComponent extends FieldComponent<WysiwygData>\n  implements OnInit, AfterViewInit {\n  constructor(\n    @Inject(COMPONENT_DATA) public cData: WysiwygData,\n    private fb: FormBuilder,\n    private dialog: MatDialog,\n    private storage: StorageService,\n    private formBuilderComponent: FormBuilderComponent\n  ) {\n    super(cData);\n  }\n\n  @ViewChild('textarea', {static: true})\n  textarea: ElementRef;\n\n  @ViewChild('youTubeDialog', {static: true})\n  youTubeDialogTemplate: TemplateRef<any>;\n\n  editor: any;\n  ytForm: FormGroup;\n  ytDefault = {\n    fullWidth: true,\n    showPlayerControls: true,\n    privacyEnhancedMode: false,\n    align: 'left'\n  };\n\n  ngOnInit() {\n    this.ytForm = this.fb.group({\n      value: ['', Validators.required],\n      ...this.ytDefault\n    });\n\n    this.cData.control.statusChanges.subscribe(value => {\n      if (value === 'DISABLED') {\n        tinymce.activeEditor.getBody().setAttribute('readonly', true);\n      } else if (this.cData.control.disabled) {\n        tinymce.activeEditor.getBody().setAttribute('readonly', false);\n      }\n    });\n  }\n\n  ngAfterViewInit() {\n    this.registerTiny();\n  }\n\n  private registerTiny() {\n    tinymce.init({\n      target: this.textarea.nativeElement,\n      branding: false,\n      height: this.cData.height || 420,\n      plugins: [\n        'code',\n        'print',\n        'wordcount',\n        'link',\n        'lists',\n        'advlist',\n        'autolink',\n        'image',\n        'imagetools',\n        'fullscreen',\n        'table'\n      ],\n      menubar: this.cData.menubar || 'edit insert view format table tools help',\n      image_advtab: true,\n\n      /**\n       * Link settings\n       */\n      default_link_target: '_blank',\n      readonly: this.cData.control.disabled,\n      toolbar: this.cData.toolbar || [\n        'undo redo',\n        'insert',\n        'styleselect',\n        'bold italic',\n        'forecolor backcolor',\n        'alignleft aligncenter alignright alignjustify',\n        'bullist numlist outdent indent',\n        'link',\n        'image',\n        'youTube',\n        'fullscreen',\n      ].join(' | '),\n\n      images_upload_handler: (blobInfo: any, success: any, failure: any) => {\n        this.storage\n          .upload(\n            blobInfo.filename(),\n            blobInfo.blob(),\n            this.formBuilderComponent.id ? {\n              customMetadata: {\n                collection: this.formBuilderComponent.id\n              }\n            } : {}\n          )\n          .then((data: any) => data.ref.getDownloadURL())\n          .then((url: any) => success(url))\n          .catch((error: any) => failure(error.toString()));\n      },\n\n      setup: (editor: any) => {\n        this.editor = editor;\n\n        editor.on('keyup change', () => {\n          const tinyContent = editor.getContent();\n          this.cData.control.setValue(tinyContent);\n        });\n\n        editor.ui.registry.addButton('youTube', {\n          type: 'button',\n          icon: 'embed',\n          tooltip: 'Embed youtube video',\n          onAction: () => {\n            this.ytForm.reset(this.ytDefault);\n            this.dialog\n              .open(this.youTubeDialogTemplate, {width: '500px'})\n              .afterClosed()\n              .pipe(\n                filter(value => !!value),\n                take(1)\n              )\n              .subscribe(() => {\n                const data = this.ytForm.getRawValue();\n                let url = data.privacyEnhancedMode\n                  ? 'https://www.youtube-nocookie.com/embed/'\n                  : 'https://www.youtube.com/embed/';\n\n                url = url + data.value;\n\n                if (!data.showPlayerControls) {\n                  data.value += '?controls=0';\n                }\n\n                const iframe = `<iframe width=\"560\" height=\"315\" src=\"${url}\" frameborder=\"0\"\n                    allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen></iframe>`;\n\n                editor.insertContent(\n                  data.fullWidth\n                    ? `<div class=\"evw-full\" style=\"text-align: ${data.align}\">${iframe}</div>`\n                    : `<div style=\"text-align: ${data.align}\">${iframe}</div>`\n                );\n              });\n          }\n        });\n      }\n    });\n  }\n}\n","import {ComponentType} from '../enums/component-type.enum';\nimport {AutocompleteComponent} from '../fields/autocomplete/autocomplete.component';\nimport {CheckboxComponent} from '../fields/checkbox/checkbox.component';\nimport {ChipsComponent} from '../fields/chips/chips.component';\nimport {DateFieldComponent} from '../fields/date-field/date-field.component';\nimport {DraggableListComponent} from '../fields/draggable-list/draggable-list.component';\nimport {FileComponent} from '../fields/file/file.component';\nimport {GalleryComponent} from '../fields/gallery/gallery.component';\nimport {ImageComponent} from '../fields/image/image.component';\nimport {InputComponent} from '../fields/input/input.component';\nimport {RadioComponent} from '../fields/radio/radio.component';\nimport {RangeComponent} from '../fields/range/range.component';\nimport {SelectComponent} from '../fields/select/select.component';\nimport {SliderComponent} from '../fields/slider/slider.component';\nimport {TextareaComponent} from '../fields/textarea/textarea.component';\nimport {ToggleComponent} from '../fields/toggle/toggle.component';\nimport {WysiwygComponent} from '../fields/wysiwyg/wysiwyg.component';\n\n\nexport const COMPONENT_TYPE_COMPONENT_MAP = {\n  [ComponentType.Input]: InputComponent,\n  [ComponentType.Toggle]: ToggleComponent,\n  [ComponentType.Select]: SelectComponent,\n  [ComponentType.File]: FileComponent,\n  [ComponentType.Image]: ImageComponent,\n  [ComponentType.Gallery]: GalleryComponent,\n  [ComponentType.Checkbox]: CheckboxComponent,\n  [ComponentType.Autocomplete]: AutocompleteComponent,\n  [ComponentType.Date]: DateFieldComponent,\n  [ComponentType.Range]: RangeComponent,\n  [ComponentType.Slider]: SliderComponent,\n  [ComponentType.Wysiwyg]: WysiwygComponent,\n  [ComponentType.Draggable]: DraggableListComponent,\n  [ComponentType.Radio]: RadioComponent,\n  [ComponentType.Chips]: ChipsComponent,\n  [ComponentType.Textarea]: TextareaComponent\n};\n","export enum SchemaType {\n  Object = 'object',\n  Array = 'array',\n\n  // Simple\n  String = 'string',\n  Number = 'number',\n  Integer = 'integer',\n  Boolean = 'boolean',\n  Null = 'null'\n}\n","import {AbstractControl} from '@angular/forms';\n\n// @dynamic\nexport class SchemaValidators {\n  static multipleOf(num: number) {\n    return (control: AbstractControl) => {\n      return control.value % num === 0 ? null : {multipleOf: num};\n    };\n  }\n}\n","import {ComponentType} from '../enums/component-type.enum';\nimport {SchemaType} from '../enums/schema-type.enum';\n\nexport function schemaToComponent(schemaType: SchemaType) {\n  switch (schemaType) {\n    case SchemaType.String:\n      return {\n        type: ComponentType.Input,\n        configuration: {\n          type: 'text'\n        }\n      };\n\n    case SchemaType.Number:\n    case SchemaType.Integer:\n      return {\n        type: ComponentType.Input,\n        configuration: {\n          type: 'number'\n        }\n      };\n\n    case SchemaType.Boolean:\n      return {\n        type: ComponentType.Checkbox\n      };\n\n    case SchemaType.Array:\n      return {\n        type: ComponentType.Chips\n      };\n  }\n}\n","import {moveItemInArray} from '@angular/cdk/drag-drop';\nimport {ComponentPortal} from '@angular/cdk/portal';\nimport {Injector} from '@angular/core';\nimport {FormArray, FormControl, FormGroup, Validators} from '@angular/forms';\nimport {COMPONENT_TYPE_COMPONENT_MAP} from '../consts/component-type-component-map.const';\nimport {SchemaType} from '../enums/schema-type.enum';\nimport {State} from '../enums/state.enum';\nimport {FieldComponent} from '../field/field.component';\nimport {CompiledField} from '../interfaces/compiled-field.interface';\nimport {Control} from '../interfaces/control.type';\nimport {Definitions} from '../interfaces/definitions.interface';\nimport {SchemaValidators} from '../validators/schema-validators.class';\nimport {createComponentInjector} from './create-component-injector';\nimport {CustomFields} from './custom-fields';\nimport {safeEval} from './safe-eval';\nimport {schemaToComponent} from './schema-to-component';\n\nexport interface PropertyDefinition {\n  type: SchemaType;\n  description?: string;\n  default?: any;\n}\n\nexport interface StringPropertyDefinition extends PropertyDefinition {\n  type: SchemaType.String;\n  default?: string;\n\n  pattern?: string;\n  minLength?: number;\n  maxLength?: number;\n}\n\nexport interface NumberPropertyDefinition extends PropertyDefinition {\n  type: SchemaType.Number | SchemaType.Integer;\n  default?: number;\n\n  minimum?: number;\n  maximum?: number;\n  exclusiveMinimum?: boolean;\n  exclusiveMaximum?: boolean;\n  multipleOf?: number;\n}\n\nexport interface BooleanPropertyDefinition extends PropertyDefinition {\n  type: SchemaType.Boolean;\n  default?: boolean;\n}\n\nexport interface ArrayPropertyDefinition extends PropertyDefinition {\n  type: SchemaType.Array;\n  items?: any;\n  contains?: any;\n}\n\nexport interface Pointer {\n  key: string;\n  type: SchemaType;\n  control: Control;\n  validation: any;\n\n  formatOnSave?: (item: any, dataSet?: any) => any;\n  formatOnLoad?: (item: any) => any;\n  formatOnCreate?: (item: any, dataSet?: any) => any;\n  formatOnEdit?: (item: any, dataSet?: any) => any;\n\n  /**\n   * Arrays can have these properties\n   */\n  arrayType?: SchemaType;\n  properties?: any;\n  required?: string[];\n  arrayPointers?: Pointers[];\n}\n\nexport interface Pointers {\n  [key: string]: Pointer;\n}\n\n// @dynamic\nexport class Parser {\n  constructor(\n    public schema: any,\n    public injector: Injector,\n    public state: State,\n    public role: string,\n    public definitions: Definitions = {},\n    public customFields: CustomFields = {}\n  ) {}\n\n  form: FormGroup;\n  pointers: Pointers = {};\n\n  static standardizeKey(key: string) {\n    if (key[0] === '/') {\n      key = key.slice(1, key.length);\n    }\n\n    return key;\n  }\n\n  static stringControl(\n    definition: StringPropertyDefinition,\n    required: boolean\n  ) {\n    const controlValidation: any[] = [];\n    const validation: any = {};\n\n    if (required) {\n      controlValidation.push(Validators.required);\n      validation.required = true;\n    }\n\n    if (definition.maxLength) {\n      controlValidation.push(Validators.maxLength(definition.maxLength));\n      validation.maxLength = definition.maxLength;\n    }\n\n    if (definition.minLength) {\n      controlValidation.push(Validators.minLength(definition.minLength));\n      validation.minLength = definition.minLength;\n    }\n\n    if (definition.pattern) {\n      controlValidation.push(Validators.pattern(definition.pattern));\n      validation.patter = definition.pattern;\n    }\n\n    return {\n      control: new FormControl(definition.default || '', controlValidation),\n      validation\n    };\n  }\n\n  static numberControl(\n    definition: NumberPropertyDefinition,\n    required: boolean\n  ) {\n    const validation: any = {};\n    const controlValidation: any[] = [];\n\n    if (required) {\n      controlValidation.push(Validators.required);\n      validation.required = true;\n    }\n\n    if (definition.minimum) {\n      const minimum =\n        definition.minimum + (definition.exclusiveMinimum ? 1 : 0);\n      controlValidation.push(Validators.min(minimum));\n      validation.minimum = minimum;\n    }\n\n    if (definition.maximum) {\n      const maximum =\n        definition.maximum - (definition.exclusiveMaximum ? 1 : 0);\n      controlValidation.push(Validators.max(maximum));\n      validation.maximum = maximum;\n    }\n\n    if (definition.multipleOf) {\n      controlValidation.push(\n        SchemaValidators.multipleOf(definition.multipleOf)\n      );\n      validation.multipleOf = definition.multipleOf;\n    }\n\n    return {\n      control: new FormControl(definition.default || null, controlValidation),\n      validation\n    };\n  }\n\n  static booleanControl(\n    definition: BooleanPropertyDefinition,\n    required: boolean\n  ) {\n    const controlValidation: any[] = [];\n    const validation: any = {};\n\n    if (required) {\n      controlValidation.push(Validators.required);\n      validation.required = true;\n    }\n\n    return {\n      control: new FormControl(definition.default || false, controlValidation),\n      validation\n    };\n  }\n\n  buildForm(\n    value?: any,\n    required: string[] = [],\n    base = '/',\n    addId = true\n  ) {\n    const properties = this.buildProperties(\n      this.schema.properties || {},\n      required,\n      base,\n      addId\n    );\n\n    this.form = properties.form;\n    this.pointers = properties.pointers;\n\n    if (value) {\n      this.form.patchValue(value);\n    }\n\n    return this.form;\n  }\n\n  buildProperties(\n    properties: object,\n    required: string[] = [],\n    base = '/',\n    addId = true\n  ) {\n    const {form, pointers} = [\n      ...Object.entries(properties),\n      /**\n       * Add the id field as a property so that\n       * it can be added to the form if needed\n       */\n      ...(addId\n        ? [\n            [\n              'id',\n              {\n                type: 'string'\n              }\n            ]\n          ]\n        : [])\n    ].reduce(\n      (group, [key, value]: [string, any]) => {\n        const isRequired = required.includes(key);\n\n        let parsed: {\n          control: any;\n          validation: any;\n          arrayType?: SchemaType;\n          properties?: any;\n          required?: string[];\n        };\n\n        switch (value.type) {\n          case SchemaType.String:\n            parsed = Parser.stringControl(value, isRequired);\n            break;\n\n          case SchemaType.Number:\n          case SchemaType.Integer:\n            parsed = Parser.numberControl(value, isRequired);\n            break;\n\n          case SchemaType.Boolean:\n            parsed = Parser.booleanControl(value, isRequired);\n            break;\n\n          case SchemaType.Object:\n            const objectProperties = this.buildProperties(\n              /**\n               * Supporting both {type: 'object', properties: {}} and\n               * {type: 'object', items: {properties: {}}}\n               */\n              value.properties || (value.items && value.items.properties ? value.items.properties : {}),\n              value.required || value.items && value.items.required ? value.items.required : [],\n              base + key + '/',\n              false\n            );\n\n            for (const added in objectProperties.pointers) {\n              if (objectProperties.pointers.hasOwnProperty(added)) {\n                // @ts-ignore\n                group.pointers[added] = objectProperties.pointers[added];\n              }\n            }\n\n            parsed = {\n              control: objectProperties.form,\n              validation: {}\n            };\n            break;\n\n          case SchemaType.Array:\n            parsed = this.buildArray(base, value);\n            break;\n        }\n\n        const pointerKey = base + key;\n        const definition = this.getFromDefinitions(pointerKey) || {};\n\n        // @ts-ignore\n        group.form[key] = parsed.control;\n        // @ts-ignore\n        group.pointers[pointerKey] = {\n          key,\n          type: value.type,\n          ...definition.formatOnLoad\n            && {formatOnLoad: safeEval(definition.formatOnLoad)},\n          ...definition.formatOnSave\n            && {formatOnSave: safeEval(definition.formatOnSave)},\n          ...definition.formatOnCreate\n            && {formatOnCreate: safeEval(definition.formatOnCreate)},\n          ...definition.formatOnEdit\n            && {formatOnEdit: safeEval(definition.formatOnEdit)},\n          // @ts-ignore\n          ...parsed\n        };\n\n        return group;\n      },\n      {\n        form: {},\n        pointers: {}\n      }\n    );\n\n    return {\n      pointers,\n      form: new FormGroup(form)\n    };\n  }\n\n  /**\n   * @param pointerKey Lookup key for the pointer\n   * @param pointer Entire pointer object that should be used\n   * @param definitions Entire definitions object that should be used\n   * @param single Defines if the field shown in the form or in the table\n   * @param arrayRoot If the field is in an array what root lookup to use\n   */\n  field(\n    pointerKey: string,\n    pointer: Pointer,\n    definitions: Definitions = {},\n    single = true,\n    arrayRoot?: string\n  ): CompiledField {\n\n    if (!pointer) {\n      console.log('Pointers: ', this.pointers);\n      throw new Error(`Couldn't find pointer for ${pointerKey}.`);\n    }\n\n    const {key, type, control, validation} = pointer;\n    const definition = {\n      label: key,\n      ...this.getFromDefinitions(pointerKey, definitions)\n    };\n\n    if (\n      (\n        definition.disableOn &&\n        (\n          Array.isArray(definition.disableOn) ?\n            definition.disableOn.includes(this.state)\n            : definition.disableOn === this.state\n        )\n      ) ||\n      (\n        definition.disableForRoles &&\n        (\n          Array.isArray(definition.disableForRoles) ?\n            definition.disableForRoles.includes(this.role)\n            : definition.disableForRoles === this.role\n        )\n      )\n    ) {\n      control.disable();\n    }\n\n    /**\n     * We don't show labels in the table\n     */\n    if (!single) {\n      definition.label = '';\n    }\n\n    if (!definition.component) {\n      definition.component = schemaToComponent(type);\n    }\n\n    // @ts-ignore\n    const component = COMPONENT_TYPE_COMPONENT_MAP[definition.component.type] || this.customFields[definition.component.type];\n\n    if (!component) {\n      // @ts-ignore\n      throw new Error(`Couldn't find a component defined for type: ${definition.component.type}`);\n    }\n\n    const portal = new ComponentPortal<FieldComponent<any>>(\n      component,\n      null,\n      createComponentInjector(this.injector, {\n        control,\n        validation,\n        single,\n        pointers: this.pointers,\n        form: this.form,\n        ...definition,\n        // @ts-ignore\n        ...(definition.component.configuration || {})\n      })\n    );\n\n    return {\n      pointer: pointerKey,\n      control,\n      portal,\n      validation,\n      placeholder: definition.placeholder || '',\n      label: definition.label,\n      onlyOn: definition.onlyOn\n    };\n  }\n\n  addArrayItem(\n    pointer: string,\n    loadHooks = false,\n    parentArray?: {\n      index: number,\n      pointer: string\n    }\n  ) {\n    const pointers = parentArray ? (this.pointers[parentArray.pointer] as any).arrayPointers[parentArray.index] : this.pointers;\n    const target = pointers[pointer];\n    const control = pointers[pointer].control as FormArray;\n\n    if (\n      target.arrayType === SchemaType.Array ||\n      target.arrayType === SchemaType.Object\n    ) {\n      const properties = this.buildProperties(\n        target.properties,\n        target.required,\n        pointer + '/',\n        false\n      );\n\n      if (loadHooks) {\n        this.loadHooks(properties.pointers);\n      }\n      // @ts-ignore\n      target.arrayPointers.unshift(properties.pointers);\n      control.controls.unshift(properties.form);\n\n      return properties.pointers;\n    } else {\n      const cont = new FormControl('');\n      control.controls.unshift(cont);\n      return cont;\n    }\n  }\n\n  moveArrayItem(\n    pointer: string,\n    fromIndex: number,\n    toIndex: number,\n    parentArray?: {\n      index: number,\n      pointer: string\n    }\n  ) {\n    const pointers = parentArray ? (this.pointers[parentArray.pointer] as any).arrayPointers[parentArray.index] : this.pointers;\n    const target = pointers[pointer];\n    const control = pointers[pointer].control as FormArray;\n\n    if (\n      target.arrayType === SchemaType.Array ||\n      target.arrayType === SchemaType.Object\n    ) {\n      moveItemInArray(\n        target.arrayPointers as any[],\n        fromIndex,\n        toIndex\n      );\n    }\n\n    moveItemInArray(\n      control.controls,\n      fromIndex,\n      toIndex\n    );\n  }\n\n  removeArrayItem(\n    pointer: string,\n    index: number,\n    parentArray?: {\n      index: number,\n      pointer: string\n    }\n  ) {\n    const pointers = parentArray ? (this.pointers[parentArray.pointer] as any).arrayPointers[parentArray.index] : this.pointers;\n    pointers[pointer].arrayPointers.splice(index, 1);\n    (pointers[pointer].control as FormArray).removeAt(index);\n  }\n\n  loadHooks(pointers = this.pointers) {\n    Object.values(pointers).forEach(entry => {\n      /**\n       * TODO:\n       * For the moment formatOn methods are\n       * only supported on FormControls.\n       * We might want to expand on this later on.\n       */\n      if (entry.control instanceof FormControl && entry.formatOnLoad) {\n        const adjustedValue = entry.formatOnLoad(entry.control.value);\n\n        if (adjustedValue !== entry.control.value) {\n          entry.control.setValue(adjustedValue);\n        }\n      }\n    });\n  }\n\n  preSaveHooks(\n    currentState: State,\n    statesToProcess = [State.Create, State.Edit],\n    pointers = this.pointers\n  ) {\n\n    const preSaveData = this.form.getRawValue();\n\n    Object.values(pointers).forEach(entry => {\n      /**\n       * TODO:\n       * For the moment formatOn methods are\n       * only supported on FormControls.\n       * We might want to expand on this later on.\n       */\n      if (entry.control instanceof FormControl) {\n        let value = entry.control.value;\n\n        if (entry.formatOnSave) {\n          value = entry.formatOnSave(value, preSaveData);\n        }\n\n        if (statesToProcess.includes(currentState)) {\n          if (currentState === State.Edit && entry.formatOnEdit) {\n            value = entry.formatOnEdit(value, preSaveData);\n          } else if (entry.formatOnCreate) {\n            value = entry.formatOnCreate(value, preSaveData);\n          }\n        }\n\n        if (value !== entry.control.value) {\n          entry.control.setValue(value);\n        }\n      }\n\n      if (entry.arrayPointers) {\n        entry.arrayPointers.forEach(arrayPointers =>\n          this.preSaveHooks(currentState, statesToProcess, arrayPointers)\n        );\n      }\n    });\n  }\n\n  getFromDefinitions(\n    key: string,\n    definitions: Definitions = this.definitions\n  ) {\n    return definitions[Parser.standardizeKey(key)];\n  }\n\n  /**\n   * TODO:\n   * - Handle contains case\n   * - Handle items or contains as array not object\n   */\n  private buildArray(base: string, definition: ArrayPropertyDefinition) {\n    if (!definition.items) {\n      return {\n        control: new FormControl([]),\n        ...(definition.items\n          ? {\n              arrayType: definition.items.type,\n              properties: definition.items.properties,\n              required: definition.items.required,\n              validation: {}\n            }\n          : {\n              arrayType: SchemaType.String,\n              validation: {}\n            })\n      };\n    } else {\n      return {\n        arrayType: definition.items.type,\n        properties: definition.items.properties,\n        required: definition.items.required,\n        validation: {},\n        control: new FormArray([]),\n        arrayPointers: []\n      };\n    }\n  }\n}\n","import {\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  EventEmitter,\n  Inject,\n  Injector,\n  Input,\n  OnChanges,\n  OnDestroy,\n  Optional,\n  Output,\n  SimpleChanges\n} from '@angular/core';\nimport {FormGroup} from '@angular/forms';\nimport {forkJoin, of, Subscription} from 'rxjs';\nimport {SegmentType} from './enums/segment-type.enum';\nimport {State} from './enums/state.enum';\nimport {FormBuilderService} from './form-builder.service';\nimport {CompiledSegment} from './interfaces/compiled-segment.interface';\nimport {FormBuilderData} from './interfaces/form-builder-data.interface';\nimport {CUSTOM_FIELDS, CustomFields} from './utils/custom-fields';\nimport {filterAndCompileSegments} from './utils/filter-and-compile-segments';\nimport {Parser} from './utils/parser';\nimport {ROLE} from './utils/role';\n\n@Component({\n  selector: 'fb-form-builder',\n  templateUrl: './form-builder.component.html',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  providers: [FormBuilderService]\n})\nexport class FormBuilderComponent implements OnChanges, OnDestroy {\n  constructor(\n    private injector: Injector,\n    @Optional()\n    @Inject(ROLE)\n    private role: string,\n    @Optional()\n    @Inject(CUSTOM_FIELDS)\n    private customFields: CustomFields,\n    private cdr: ChangeDetectorRef,\n    private service: FormBuilderService\n  ) { }\n\n  @Input()\n  data: FormBuilderData;\n\n  @Input()\n  value: any;\n\n  @Input()\n  id: string;\n\n  @Output()\n  valueChanges = new EventEmitter<any>();\n\n  @Output()\n  validityChanges = new EventEmitter<boolean>();\n\n  form: FormGroup;\n  parser: Parser;\n  segments: CompiledSegment[];\n\n  @Input()\n  state: State = State.Create;\n\n  private changeSubscription: Subscription;\n  private statusSubscription: Subscription;\n\n  ngOnChanges(changes: SimpleChanges) {\n    if (changes.data) {\n      this.render();\n    }\n\n    if (changes.value && this.form) {\n      this.form.patchValue(changes.value.currentValue);\n    }\n  }\n\n  ngOnDestroy() {\n    if (this.changeSubscription) {\n      this.changeSubscription.unsubscribe();\n    }\n\n    if (this.statusSubscription) {\n      this.statusSubscription.unsubscribe();\n    }\n  }\n\n  process() {\n    this.parser.preSaveHooks(\n      this.state\n    );\n\n    return this.form.getRawValue();\n  }\n\n  save(\n    collectionId: string,\n    documentId: string\n  ) {\n\n    const toExec = this.service.saveComponents.map(comp =>\n      comp.save(collectionId, documentId)\n    );\n\n    return toExec.length ? forkJoin(toExec) : of({});\n  }\n\n  saveAndProcess(\n    collectionId: string,\n    documentId: string\n  ) {\n    this.process();\n\n    return this.save(\n      collectionId,\n      documentId\n    );\n  }\n\n  private render() {\n    const value = this.data.value || {};\n    const definitions = this.data.definitions || {};\n\n    this.parser = new Parser(\n      this.data.schema,\n      this.injector,\n      this.state,\n      this.role,\n      definitions,\n      this.customFields\n    );\n\n    this.form = this.parser.buildForm(\n      value,\n      [],\n      '/',\n      false\n    );\n\n    this.parser.loadHooks();\n\n    this.segments = filterAndCompileSegments(\n      this.data.segments ||\n      [{\n        title: '',\n        fields: Object.keys(this.parser.pointers),\n        columnsDesktop: 12,\n        type: SegmentType.Empty\n      }],\n      this.parser,\n      definitions,\n      this.injector,\n      value\n    );\n\n    if (this.changeSubscription) {\n      this.changeSubscription.unsubscribe();\n    }\n\n    if (this.statusSubscription) {\n      this.statusSubscription.unsubscribe();\n    }\n\n    this.changeSubscription = this.form.valueChanges\n      .subscribe(val => {\n        this.valueChanges.emit(val);\n      });\n\n    this.statusSubscription = this.form.statusChanges\n      .subscribe(val => {\n        this.validityChanges.emit(val === 'VALID');\n      });\n\n    this.cdr.markForCheck();\n  }\n}\n","import {Directive, ElementRef, EventEmitter, HostListener, Input, Output, Renderer2} from '@angular/core';\n\n@Directive({\n  selector: '[fbDropzone]'\n})\nexport class DropzoneDirective {\n  constructor(\n    private el: ElementRef,\n    private renderer: Renderer2\n  ) {}\n\n  @Input() hoverClass = 'active';\n  @Output() dropped = new EventEmitter<FileList>();\n  @Output() hovered = new EventEmitter<boolean>();\n\n  @HostListener('drop', ['$event'])\n  onDrop($event: any) {\n    $event.preventDefault();\n    this.dropped.emit($event.dataTransfer.files);\n    this.renderer.removeClass(this.el.nativeElement, this.hoverClass);\n    this.hovered.emit(false);\n  }\n\n  @HostListener('dragover', ['$event'])\n  onDragOver($event: Event) {\n    $event.preventDefault();\n    this.renderer.addClass(this.el.nativeElement, this.hoverClass);\n    this.hovered.emit(true);\n  }\n\n  @HostListener('dragleave', ['$event'])\n  onDragLeave($event: Event) {\n    $event.preventDefault();\n    this.renderer.removeClass(this.el.nativeElement, this.hoverClass);\n    this.hovered.emit(false);\n  }\n}\n","import {Pipe, PipeTransform} from '@angular/core';\nimport {CompiledField} from '../../interfaces/compiled-field.interface';\nimport {Parser} from '../../utils/parser';\n\n@Pipe({\n  name: 'showField'\n})\nexport class ShowFieldPipe implements PipeTransform {\n  transform(fields: CompiledField[], parser: Parser): CompiledField[] {\n    return fields.filter(\n      field =>\n        !field.onlyOn ||\n        (\n          Array.isArray(field.onlyOn) ?\n            field.onlyOn.includes(parser.state) :\n            field.onlyOn === parser.state\n        )\n    );\n  }\n}\n","import {DragDropModule} from '@angular/cdk/drag-drop';\nimport {PortalModule} from '@angular/cdk/portal';\nimport {CommonModule} from '@angular/common';\nimport {NgModule} from '@angular/core';\nimport {ReactiveFormsModule} from '@angular/forms';\nimport {MatAutocompleteModule} from '@angular/material/autocomplete';\nimport {MatButtonModule} from '@angular/material/button';\nimport {MatCardModule} from '@angular/material/card';\nimport {MatCheckboxModule} from '@angular/material/checkbox';\nimport {MatChipsModule} from '@angular/material/chips';\nimport {MatNativeDateModule} from '@angular/material/core';\nimport {MatDatepickerModule} from '@angular/material/datepicker';\nimport {MatDialogModule} from '@angular/material/dialog';\nimport {MatDividerModule} from '@angular/material/divider';\nimport {MatExpansionModule} from '@angular/material/expansion';\nimport {MatFormFieldModule} from '@angular/material/form-field';\nimport {MatIconModule} from '@angular/material/icon';\nimport {MatInputModule} from '@angular/material/input';\nimport {MatProgressSpinnerModule} from '@angular/material/progress-spinner';\nimport {MatRadioModule} from '@angular/material/radio';\nimport {MatSelectModule} from '@angular/material/select';\nimport {MatSlideToggleModule} from '@angular/material/slide-toggle';\nimport {MatSliderModule} from '@angular/material/slider';\nimport {MatTabsModule} from '@angular/material/tabs';\nimport {MatTooltipModule} from '@angular/material/tooltip';\nimport {SanitizeModule} from '@jaspero/ng-helpers';\nimport {TranslocoModule} from '@ngneat/transloco';\nimport {DropzoneDirective} from './directives/dropzone/dropzone.directive';\nimport {FieldComponent} from './field/field.component';\nimport {AutocompleteComponent} from './fields/autocomplete/autocomplete.component';\nimport {CheckboxComponent} from './fields/checkbox/checkbox.component';\nimport {ChipsComponent} from './fields/chips/chips.component';\nimport {DateFieldComponent} from './fields/date-field/date-field.component';\nimport {DraggableListComponent} from './fields/draggable-list/draggable-list.component';\nimport {FileComponent} from './fields/file/file.component';\nimport {GalleryComponent} from './fields/gallery/gallery.component';\nimport {ImageComponent} from './fields/image/image.component';\nimport {InputComponent} from './fields/input/input.component';\nimport {RadioComponent} from './fields/radio/radio.component';\nimport {RangeComponent} from './fields/range/range.component';\nimport {SelectComponent} from './fields/select/select.component';\nimport {SliderComponent} from './fields/slider/slider.component';\nimport {TextareaComponent} from './fields/textarea/textarea.component';\nimport {ToggleComponent} from './fields/toggle/toggle.component';\nimport {WysiwygComponent} from './fields/wysiwyg/wysiwyg.component';\nimport {FormBuilderComponent} from './form-builder.component';\nimport {ShowFieldPipe} from './pipes/show-field/show-field.pipe';\nimport {SegmentComponent} from './segment/segment.component';\nimport {AccordionComponent} from './segments/accordion/accordion.component';\nimport {CardComponent} from './segments/card/card.component';\nimport {EmptyComponent} from './segments/empty/empty.component';\nimport {StepperComponent} from './segments/stepper/stepper.component';\nimport {TabsComponent} from './segments/tabs/tabs.component';\n\n@NgModule({\n  declarations: [\n\n    /**\n     * Fields\n     */\n    FieldComponent,\n\n    AutocompleteComponent,\n    CheckboxComponent,\n    ChipsComponent,\n    DateFieldComponent,\n    RangeComponent,\n    DraggableListComponent,\n    FileComponent,\n    GalleryComponent,\n    ImageComponent,\n    InputComponent,\n    RadioComponent,\n    SelectComponent,\n    SliderComponent,\n    TextareaComponent,\n    ToggleComponent,\n    WysiwygComponent,\n\n    /**\n     * Segments\n     */\n    SegmentComponent,\n\n    AccordionComponent,\n    CardComponent,\n    EmptyComponent,\n    StepperComponent,\n    TabsComponent,\n\n    /**\n     * Directives\n     */\n    DropzoneDirective,\n\n    /**\n     * Pipes\n     */\n    ShowFieldPipe,\n\n    FormBuilderComponent\n  ],\n  imports: [\n    CommonModule,\n    ReactiveFormsModule,\n\n    /**\n     * Material\n     */\n    MatFormFieldModule,\n    MatInputModule,\n    MatButtonModule,\n    MatAutocompleteModule,\n    MatSelectModule,\n    MatSliderModule,\n    MatSlideToggleModule,\n    MatCheckboxModule,\n    MatChipsModule,\n    MatIconModule,\n    MatDatepickerModule,\n    MatNativeDateModule,\n    DragDropModule,\n    MatDialogModule,\n    MatTooltipModule,\n    MatProgressSpinnerModule,\n    MatExpansionModule,\n    MatDividerModule,\n    PortalModule,\n    MatCardModule,\n    MatTabsModule,\n    MatRadioModule,\n\n    /**\n     * Jp Helpers\n     */\n    SanitizeModule,\n\n    /**\n     * Other\n     */\n    TranslocoModule\n  ],\n  exports: [FormBuilderComponent]\n})\nexport class FormBuilderModule {\n}\n","/**\n * Public API Surface of form-builder\n */\nexport * from './lib/form-builder.component';\nexport * from './lib/form-builder.module';\nexport * from './lib/form-builder.service';\nexport * from './lib/field/field.component';\n\nexport * from './lib/services/db.service';\nexport * from './lib/services/storage.service';\n\nexport * from './lib/utils/parser';\nexport * from './lib/utils/parse-template';\nexport * from './lib/utils/safe-eval';\nexport * from './lib/utils/format-generated-images';\nexport * from './lib/utils/format-file-name';\nexport * from './lib/utils/clone-abstract-control';\nexport * from './lib/utils/switch-item-locations';\n\n/**\n * Interfaces\n */\nexport * from './lib/interfaces/definitions.interface';\nexport * from './lib/interfaces/definitions.interface';\nexport * from './lib/interfaces/option.interface';\nexport * from './lib/interfaces/segment.interface';\nexport * from './lib/interfaces/field-data.interface';\nexport * from './lib/interfaces/form-builder-data.interface';\n\n/**\n * Enums\n */\nexport * from './lib/enums/component-type.enum';\nexport * from './lib/enums/schema-type.enum';\nexport * from './lib/enums/segment-type.enum';\nexport * from './lib/enums/state.enum';\n\n/**\n * Injectors\n */\nexport * from './lib/utils/role';\nexport * from './lib/utils/additional-context';\nexport * from './lib/utils/storage-url';\nexport * from './lib/utils/custom-fields';\nexport {COMPONENT_DATA} from './lib/utils/create-component-injector';\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n\nexport {DropzoneDirective as x} from './lib/directives/dropzone/dropzone.directive';\nexport {AutocompleteComponent as a} from './lib/fields/autocomplete/autocomplete.component';\nexport {CheckboxComponent as b} from './lib/fields/checkbox/checkbox.component';\nexport {ChipsComponent as c} from './lib/fields/chips/chips.component';\nexport {DateFieldComponent as d} from './lib/fields/date-field/date-field.component';\nexport {DraggableListComponent as f} from './lib/fields/draggable-list/draggable-list.component';\nexport {FileComponent as g} from './lib/fields/file/file.component';\nexport {GalleryComponent as h} from './lib/fields/gallery/gallery.component';\nexport {ImageComponent as i} from './lib/fields/image/image.component';\nexport {InputComponent as j} from './lib/fields/input/input.component';\nexport {RadioComponent as k} from './lib/fields/radio/radio.component';\nexport {RangeComponent as e} from './lib/fields/range/range.component';\nexport {SelectComponent as l} from './lib/fields/select/select.component';\nexport {SliderComponent as m} from './lib/fields/slider/slider.component';\nexport {TextareaComponent as n} from './lib/fields/textarea/textarea.component';\nexport {ToggleComponent as o} from './lib/fields/toggle/toggle.component';\nexport {WysiwygComponent as p} from './lib/fields/wysiwyg/wysiwyg.component';\nexport {ShowFieldPipe as y} from './lib/pipes/show-field/show-field.pipe';\nexport {SegmentComponent as q} from './lib/segment/segment.component';\nexport {AccordionComponent as s} from './lib/segments/accordion/accordion.component';\nexport {CardComponent as t} from './lib/segments/card/card.component';\nexport {EmptyComponent as u} from './lib/segments/empty/empty.component';\nexport {StepperComponent as v} from './lib/segments/stepper/stepper.component';\nexport {TabsComponent as w} from './lib/segments/tabs/tabs.component';\nexport {SEGMENT_DATA as r} from './lib/utils/create-segment-injector';"]}