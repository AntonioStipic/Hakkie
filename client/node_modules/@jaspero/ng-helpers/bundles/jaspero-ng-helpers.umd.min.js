!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/common"),require("@angular/core"),require("rxjs"),require("rxjs/operators"),require("@angular/platform-browser")):"function"==typeof define&&define.amd?define("@jaspero/ng-helpers",["exports","@angular/common","@angular/core","rxjs","rxjs/operators","@angular/platform-browser"],t):t(((e=e||self).jaspero=e.jaspero||{},e.jaspero["ng-helpers"]={}),e.ng.common,e.ng.core,e.rxjs,e.rxjs.operators,e.ng.platformBrowser)}(this,(function(e,t,r,o,n,i){"use strict";var a=function(){function e(e,t){this._el=e,this._ngZone=t,this.clickOutsideEventType="click",this.clickOutsideBlock=!1,this.jpClickOutside=new r.EventEmitter}return e.prototype.ngAfterViewInit=function(){var e=this;this._ngZone.runOutsideAngular((function(){e.subscription=o.fromEvent(window,e.clickOutsideEventType).pipe(n.filter((function(t){return!e.clickOutsideBlock&&!e._el.nativeElement.contains(t.target)}))).subscribe((function(t){e._ngZone.run((function(){e.jpClickOutside.emit(t)}))}))}))},e.prototype.ngOnDestroy=function(){this.subscription&&this.subscription.unsubscribe()},e}();a.decorators=[{type:r.Directive,args:[{selector:"[jpClickOutside]"}]}],a.ctorParameters=function(){return[{type:r.ElementRef},{type:r.NgZone}]},a.propDecorators={clickOutsideEventType:[{type:r.Input}],clickOutsideBlock:[{type:r.Input}],jpClickOutside:[{type:r.Output}]};var s=function(){};s.decorators=[{type:r.NgModule,args:[{imports:[t.CommonModule],declarations:[a],exports:[a]}]}];var u=function(){function e(e,t){this._renderer=e,this._el=t,this.stopPropagationEventType="click",this.preventDefault=!1,this.jpStopPropagation=new r.EventEmitter}return e.prototype.ngOnInit=function(){var e=this;this._renderer.listen(this._el.nativeElement,this.stopPropagationEventType,(function(t){e.preventDefault&&t.preventDefault(),void 0!==e.condition?"boolean"==typeof e.condition?e.condition&&e.sp(t):e.condition(t)&&e.sp(t):e.sp(t)}))},e.prototype.sp=function(e){e.stopPropagation(),this.jpStopPropagation.emit(e)},e}();u.decorators=[{type:r.Directive,args:[{selector:"[jpStopPropagation]"}]}],u.ctorParameters=function(){return[{type:r.Renderer2},{type:r.ElementRef}]},u.propDecorators={stopPropagationEventType:[{type:r.Input}],preventDefault:[{type:r.Input}],condition:[{type:r.Input}],jpStopPropagation:[{type:r.Output}]};var p=function(){};p.decorators=[{type:r.NgModule,args:[{imports:[t.CommonModule],declarations:[u],exports:[u]}]}];var c=function(){function e(){this.jpFormTouched=new r.EventEmitter}return e.prototype.enter=function(){Array.isArray(this.jpFormTouchOnHover)?this.jpFormTouchOnHover.forEach((function(e){return e.markAllAsTouched()})):this.jpFormTouchOnHover.markAllAsTouched(),this.jpFormTouched.emit()},e}();c.decorators=[{type:r.Directive,args:[{selector:"[jpFormTouchOnHover]"}]}],c.propDecorators={jpFormTouchOnHover:[{type:r.Input}],jpFormTouched:[{type:r.Output}],enter:[{type:r.HostListener,args:["mouseenter"]}]};var l=function(){};l.decorators=[{type:r.NgModule,args:[{imports:[t.CommonModule],declarations:[c],exports:[c]}]}];var d=new r.InjectionToken("DEBOUNCE_TIME"),f=function(){function e(e,t,o){this._el=e,this._ngZone=t,this._defaultDebounceTime=o,this.debounceChangeEventType="keyup",this.emitOnlyOnChange=!1,this.jpDebounceChange=new r.EventEmitter}return e.prototype.ngAfterViewInit=function(){var e=this;this._ngZone.runOutsideAngular((function(){var t=e._el.nativeElement.value;e.subscription=o.fromEvent(e._el.nativeElement,e.debounceChangeEventType).pipe(n.debounceTime(e.debounceTime||e._defaultDebounceTime),n.filter((function(r){return!r.target||void 0===r.target.value||!e.emitOnlyOnChange||r.target.value!==t}))).subscribe((function(r){e._ngZone.run((function(){r.target&&(t=r.target.value),e.jpDebounceChange.emit(r.target.value)}))}))}))},e.prototype.ngOnDestroy=function(){this.subscription&&this.subscription.unsubscribe()},e}();f.decorators=[{type:r.Directive,args:[{selector:"[jpDebounceChange]"}]}],f.ctorParameters=function(){return[{type:r.ElementRef},{type:r.NgZone},{type:Number,decorators:[{type:r.Inject,args:[d]}]}]},f.propDecorators={debounceTime:[{type:r.Input}],debounceChangeEventType:[{type:r.Input}],emitOnlyOnChange:[{type:r.Input}],jpDebounceChange:[{type:r.Output}]};var y=function(){function e(){}return e.defaultDebounceTime=function(t){return{ngModule:e,providers:[{provide:d,useValue:t}]}},e}();y.decorators=[{type:r.NgModule,args:[{imports:[t.CommonModule],declarations:[f],exports:[f],providers:[{provide:d,useValue:500}]}]}];var m=function(e,t){var r=this;this.ngFor=e,this.defaultKey=t,this.ngFor.ngForTrackBy=function(e,t){return t[r.ngForJpTrackByField||r.defaultKey]}};m.decorators=[{type:r.Directive,args:[{selector:"[ngForJpTrackByField]"}]}],m.ctorParameters=function(){return[{type:t.NgForOf,decorators:[{type:r.Host}]},{type:void 0,decorators:[{type:r.Inject,args:["defaultKey"]}]}]},m.propDecorators={ngForJpTrackByField:[{type:r.Input}]};var v=function(){function e(){}return e.defaultKey=function(t){return void 0===t&&(t="id"),{ngModule:e,providers:[{provide:"defaultKey",useValue:t}]}},e}();v.decorators=[{type:r.NgModule,args:[{imports:[t.CommonModule],declarations:[m],exports:[m]}]}];var g=new r.InjectionToken("LOAD_CLICK_CLASS"),h=function(){function e(e,t,r){this._el=e,this._renderer=t,this._defaultLoadClickClass=r,this.loadClickEventType="click",this.loadClickStopPropagation=!1,this.loadClickPreventDefault=!1,this.disableAttribute=!0}return e.prototype.ngOnInit=function(){var e=this;this._renderer.listen(this._el.nativeElement,this.loadClickEventType,(function(t){var r=e.loadClickClass||e._defaultLoadClickClass;e.loadClickStopPropagation&&t.stopPropagation(),e.loadClickPreventDefault&&t.preventDefault(),e._renderer.addClass(e._el.nativeElement,r),e.disableAttribute&&e._renderer.setAttribute(e._el.nativeElement,"disabled",""),e.subscription=e.jpLoadClick().pipe(n.finalize((function(){e._renderer.removeClass(e._el.nativeElement,r),e.disableAttribute&&e._renderer.removeAttribute(e._el.nativeElement,"disabled")}))).subscribe()}))},e.prototype.ngOnDestroy=function(){this.subscription&&this.subscription.unsubscribe()},e}();h.decorators=[{type:r.Directive,args:[{selector:"[jpLoadClick]"}]}],h.ctorParameters=function(){return[{type:r.ElementRef},{type:r.Renderer2},{type:String,decorators:[{type:r.Inject,args:[g]}]}]},h.propDecorators={jpLoadClick:[{type:r.Input}],loadClickEventType:[{type:r.Input}],loadClickStopPropagation:[{type:r.Input}],loadClickPreventDefault:[{type:r.Input}],loadClickClass:[{type:r.Input}],disableAttribute:[{type:r.Input}]};var C=function(){function e(){}return e.defaultLoadingClass=function(t){return{ngModule:e,providers:[{provide:g,useValue:t}]}},e}();C.decorators=[{type:r.NgModule,args:[{imports:[t.CommonModule],declarations:[h],exports:[h],providers:[{provide:g,useValue:"loading"}]}]}];var b=function(){function e(){}return e.prototype.transform=function(e){var t=[];for(var r in e)if(e[r]){var o=parseInt(r,10);isNaN(o)||t.push({key:o,value:e[r]})}return t},e}();b.decorators=[{type:r.Pipe,args:[{name:"jpEnum"}]}];var D=function(){};D.decorators=[{type:r.NgModule,args:[{imports:[t.CommonModule],declarations:[b],exports:[b]}]}];var T=function(){function e(e){this._sanitizer=e}return e.prototype.transform=function(e,t){void 0===t&&(t="html");return this._sanitizer[{html:"bypassSecurityTrustHtml",style:"bypassSecurityTrustStyle",script:"bypassSecurityTrustScript",url:"bypassSecurityTrustUrl",resourceUrl:"bypassSecurityTrustResourceUrl"}[t]](e)},e}();T.decorators=[{type:r.Pipe,args:[{name:"jpSanitize"}]}],T.ctorParameters=function(){return[{type:i.DomSanitizer}]};var M=function(){};M.decorators=[{type:r.NgModule,args:[{imports:[t.CommonModule],declarations:[T],exports:[T]}]}];var E={Millisecond:0,Second:1,Minute:2,Hour:3,Day:4,Month:5,Year:6};E[E.Millisecond]="Millisecond",E[E.Second]="Second",E[E.Minute]="Minute",E[E.Hour]="Hour",E[E.Day]="Day",E[E.Month]="Month",E[E.Year]="Year";var k=function(){function e(){}return e.timeDiff=function(e,t,r){var o;void 0===t&&(t=new Date),void 0===r&&(r=E.Day);var n=864e5,i=((o={})[E.Millisecond]=1,o[E.Second]=1e3,o[E.Minute]=6e4,o[E.Hour]=36e5,o[E.Day]=n,o[E.Month]=30*n,o[E.Year]=365*n,o);return Math.round(Math.abs((e.getTime()-t.getTime())/i[r]))},e.prototype.transform=function(t,r,o){return r||(r=new Date),e.timeDiff(t,r,void 0!==o?o:E.Minute)},e}();k.decorators=[{type:r.Pipe,args:[{name:"jpTimePassed"}]}];var j=function(){};j.decorators=[{type:r.NgModule,args:[{imports:[t.CommonModule],declarations:[k],exports:[k]}]}];var O=function(){function e(){}return e.defaultFormat=function(e){return e.split(new RegExp("(?=[A-Z])")).join(" ")},e.prototype.transform=function(t,r,o){return void 0===o&&(o=e.defaultFormat),r[t]?o(r[t]):t},e}();O.decorators=[{type:r.Pipe,args:[{name:"jpEnumKeyFormat"}]}];var _=function(){};_.decorators=[{type:r.NgModule,args:[{imports:[t.CommonModule],declarations:[O],exports:[O]}]}],e.ClickOutsideDirective=a,e.ClickOutsideModule=s,e.DEBOUNCE_TIME=d,e.DebounceChangeDirective=f,e.DebounceChangeModule=y,e.EnumKeyFormatModule=_,e.EnumKeyFormatPipe=O,e.EnumModule=D,e.EnumPipe=b,e.FormTouchOnHoverDirective=c,e.FormTouchOnHoverModule=l,e.LOAD_CLICK_CLASS=g,e.LoadClickDirective=h,e.LoadClickModule=C,e.OnChange=function(e){var t=Symbol(),r=Symbol();return function(o,n){Object.defineProperty(o,n,{set:function(o){var n=this;if(this[r]=void 0===this[r],this[r]||this[t]!==o){var i=this[t];this[t]=o;var a={firstChange:this[r],previousValue:i,currentValue:this[t],isFirstChange:function(){return n[r]}};e.call(this,this[t],a)}},get:function(){return this[t]}})}},e.SanitizeModule=M,e.SanitizePipe=T,e.StopPropagationDirective=u,e.StopPropagationModule=p,e.TimePassedModule=j,e.TimePassedPipe=k,e.TimePassedType=E,e.TrackByFieldDirective=m,e.TrackByFieldModule=v,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=jaspero-ng-helpers.umd.min.js.map